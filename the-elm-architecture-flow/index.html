<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>The Elm Architecture Flow - One Man Think Tank</title><meta name="description" content="What does the Elm Architecture look like? That’s what I immediately thought, when I started to read about the language. Currently I like Elm quite a bit because it makes it so easy for me to do some application programming with HTML UIs. I never&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://ralfw.github.io/homepage-ralfw-de/the-elm-architecture-flow/"><link rel="alternate" type="application/atom+xml" href="https://ralfw.github.io/homepage-ralfw-de/feed.xml"><link rel="alternate" type="application/json" href="https://ralfw.github.io/homepage-ralfw-de/feed.json"><meta property="og:title" content="The Elm Architecture Flow"><meta property="og:image" content="https://ralfw.github.io/homepage-ralfw-de/media/posts/74/Bildschirmfoto-2016-08-25-um-19.21.06.png"><meta property="og:site_name" content="One Man Think Tank"><meta property="og:description" content="What does the Elm Architecture look like? That’s what I immediately thought, when I started to read about the language. Currently I like Elm quite a bit because it makes it so easy for me to do some application programming with HTML UIs. I never&hellip;"><meta property="og:url" content="https://ralfw.github.io/homepage-ralfw-de/the-elm-architecture-flow/"><meta property="og:type" content="article"><link rel="shortcut icon" href="https://ralfw.github.io/homepage-ralfw-de/media/website/favicon.png" type="image/x-icon"><style>:root{--body-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--heading-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--logo-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--menu-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"}</style><link rel="stylesheet" href="https://ralfw.github.io/homepage-ralfw-de/assets/css/style.css?v=990f047e8c3c2bb3deca98e2b36861df"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://ralfw.github.io/homepage-ralfw-de/the-elm-architecture-flow/"},"headline":"The Elm Architecture Flow","datePublished":"2016-08-25T19:31","dateModified":"2021-01-25T16:26","image":{"@type":"ImageObject","url":"https://ralfw.github.io/homepage-ralfw-de/media/posts/74/Bildschirmfoto-2016-08-25-um-19.21.06.png","height":816,"width":820},"description":"What does the Elm Architecture look like? That’s what I immediately thought, when I started to read about the language. Currently I like Elm quite a bit because it makes it so easy for me to do some application programming with HTML UIs. I never&hellip;","author":{"@type":"Person","name":"Ralf Westphal"},"publisher":{"@type":"Organization","name":"Ralf Westphal","logo":{"@type":"ImageObject","url":"https://ralfw.github.io/homepage-ralfw-de/media/website/logo.png","height":860,"width":4068}}}</script></head><body><div class="site-container"><header class="top" id="js-header"><a class="logo" href="https://ralfw.github.io/homepage-ralfw-de/"><img src="https://ralfw.github.io/homepage-ralfw-de/media/website/logo.png" alt="One Man Think Tank"></a><nav class="navbar js-navbar"><button class="navbar__toggle js-toggle" aria-label="Menu" aria-haspopup="true" aria-expanded="false"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"><li><a href="https://ralfw.github.io/homepage-ralfw-de/focus/" target="_self">Focus</a></li><li><a href="https://ralfw.github.io/homepage-ralfw-de/approach/" target="_self">Approach</a></li><li><a href="https://ralfw.github.io/homepage-ralfw-de/about/" target="_self">About</a></li><li><a href="https://ralfw.github.io/homepage-ralfw-de/imprint/" target="_self">Imprint</a></li></ul></nav></header><main><article class="post"><div class="hero"><figure class="hero__image hero__image--overlay"><img src="https://ralfw.github.io/homepage-ralfw-de/media/posts/74/Bildschirmfoto-2016-08-25-um-19.21.06.png" srcset="https://ralfw.github.io/homepage-ralfw-de/media/posts/74/responsive/Bildschirmfoto-2016-08-25-um-19.21.06-xs.png 300w, https://ralfw.github.io/homepage-ralfw-de/media/posts/74/responsive/Bildschirmfoto-2016-08-25-um-19.21.06-sm.png 480w, https://ralfw.github.io/homepage-ralfw-de/media/posts/74/responsive/Bildschirmfoto-2016-08-25-um-19.21.06-md.png 768w, https://ralfw.github.io/homepage-ralfw-de/media/posts/74/responsive/Bildschirmfoto-2016-08-25-um-19.21.06-lg.png 1024w, https://ralfw.github.io/homepage-ralfw-de/media/posts/74/responsive/Bildschirmfoto-2016-08-25-um-19.21.06-xl.png 1360w, https://ralfw.github.io/homepage-ralfw-de/media/posts/74/responsive/Bildschirmfoto-2016-08-25-um-19.21.06-2xl.png 1600w" sizes="(max-width: 1600px) 100vw, 1600px" loading="eager" height="816" width="820" alt=""></figure><header class="hero__content"><div class="wrapper"><div class="post__meta"><time datetime="2016-08-25T19:31">25.08.2016</time></div><h1>The Elm Architecture Flow</h1><div class="post__meta post__meta--author"><a href="https://ralfw.github.io/homepage-ralfw-de/authors/ralf-westphal/" class="feed__author invert">Ralf Westphal</a></div></div></header></div><div class="wrapper post__entry"><p>What does the Elm Architecture <em>look like</em>? That’s what I immediately thought, when I started to read about <a href="http://elm-lang.org/" target="_blank">the language</a>. Currently I like Elm quite a bit because it makes it so easy for me to do some application programming with HTML UIs. I never got the hang of JavaScript and one its myriad frameworks. I strongly believe there’s something fundamentally wrong with the current JS approach. HTML used to be simple, straightforward. Embellished with some JS behind the scene it still was ok. But today…? Somewhere along the way the JS community took the wrong turn.</p><p>But, well, with Elm the fun is back in browser application development. Or maybe I just write a small frontend with Elm to talk to a C# or Ruby backend? We’ll see. Right now Elm’s enough to study. A very nice Functional Programming language.</p><p>If you like, step through Elm’s <a href="http://elm-lang.org/docs" target="_blank">online documentation</a>. It gives a good overview of the platform's philosophy and capabilities. You can even play around with example code in an <a href="http://elm-lang.org/examples/buttons" target="_blank">online REPL</a>.</p><p>Despite all the effort that went into the explanations of Elm, though, I did not find it easy to understand how <a href="http://guide.elm-lang.org/architecture/" target="_blank">the often cited</a> Elm Architecture actually works or looks. Visualizations are strangely absent from the whole documentation.</p><p>Or maybe not that strangely, because it seems to be a pattern: Functional Programmers don’t use diagrams. Object-oriented programmers have to use diagrams – e.g. class diagrams for structure and sequence diagrams for behavior – since OOP is so messed up. You can’t really make sense of OO code without diagrams. But FP code… that’s a totally different matter altogether. FP code is by definition easy to understand and reason about. Or so the thinking seems to go.</p><p>However, I beg to differ. I even think the FP community does itself no favor by focusing on text (program code) so much.</p><p>That’s why I’d like to draw some diagrams in this article. I want to translate the Elm Architecture into pictures for even easier understanding. And hopefully you’ll agree that depicting FP is easy and worthwhile.</p><h2>Show some HTML</h2><p>The easiest thing you can do with Elm is to just output some HTML. No domain logic, just pure declarative HTML rendering:</p><figure class="alignnone wp-image-1057"><img loading="lazy" src="https://ralfw.github.io/homepage-ralfw-de/media/posts/74/img_57bef3fb515fe.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://ralfw.github.io/homepage-ralfw-de/media/posts/74/responsive/img_57bef3fb515fe-xs.png 300w, https://ralfw.github.io/homepage-ralfw-de/media/posts/74/responsive/img_57bef3fb515fe-sm.png 480w, https://ralfw.github.io/homepage-ralfw-de/media/posts/74/responsive/img_57bef3fb515fe-md.png 768w, https://ralfw.github.io/homepage-ralfw-de/media/posts/74/responsive/img_57bef3fb515fe-lg.png 1024w, https://ralfw.github.io/homepage-ralfw-de/media/posts/74/responsive/img_57bef3fb515fe-xl.png 1360w, https://ralfw.github.io/homepage-ralfw-de/media/posts/74/responsive/img_57bef3fb515fe-2xl.png 1600w" alt="" width="300" height="110"></figure><p>I'm sure you understand this code right away. <em>main</em> is the entry point of this small app, and <em>h3 </em>is a function (!) with two parameters (which are lists as denoted by the <em>[...]</em>). <em>h3</em> and also <em>text</em> ultimately generate HTML.</p><p>As you can imagine there are lots of similar functions in Elm's core library <em>Html</em>. One for every HTML element and many of their attributes. And so you can compose HTML element hierarchies by arranging Elm function calls in a like hierarchy.</p><p>And here's the actual Elm programm running:</p><hr><div id="htmldemo"></div><p><script src="https://ralfw.de/download/blog/elmarchitectureflow/htmldemo.js"></script><br>       <script><br />
var node = document.getElementById('htmldemo');             var app = Elm.HtmlDemo.embed(node);<br /></script></p><hr><p>Yes, this output is created by an embedded Elm program right here in this page. That way I was able to mix Wordpress text composition with Elm functionality.</p><p>But can I visualize the Elm Architecture of this application? Yes, I guess I can. Here it is:</p><figure class="alignnone wp-image-1059"><img loading="lazy" src="https://ralfw.github.io/homepage-ralfw-de/media/posts/74/img_57bef6b4c0918.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://ralfw.github.io/homepage-ralfw-de/media/posts/74/responsive/img_57bef6b4c0918-xs.png 300w, https://ralfw.github.io/homepage-ralfw-de/media/posts/74/responsive/img_57bef6b4c0918-sm.png 480w, https://ralfw.github.io/homepage-ralfw-de/media/posts/74/responsive/img_57bef6b4c0918-md.png 768w, https://ralfw.github.io/homepage-ralfw-de/media/posts/74/responsive/img_57bef6b4c0918-lg.png 1024w, https://ralfw.github.io/homepage-ralfw-de/media/posts/74/responsive/img_57bef6b4c0918-xl.png 1360w, https://ralfw.github.io/homepage-ralfw-de/media/posts/74/responsive/img_57bef6b4c0918-2xl.png 1600w" alt="" width="400" height="98"></figure><p><em>main</em> is a function without parameters which gets called by the Elm runtime and returns HTML. At least in some way, because to be more accurate, it's not HTML which gets produced by <em>h3</em> and its friends, but some kind of HTML DOM. But I think the difference does not really matter for the purpose of this article.</p><p>Calling a function can be understood as processing input and producing output. Some data flows into the function, some data flows out from the function. A function thus is nothing more than a transformation step in a data flow.</p><p>The diagram above is trying to make this more tangible. You don't have to interpret program code but can <em>see</em> what's going on at a glance. A mental model is much easier to build that way. That's a boon for collaborative software development. Mental models of a team members can be synchronized in less time and with less misunderstandings.</p><h2>Becoming interactive</h2><p>Rendering some HTML is no big deal with Elm, but also of not much help. Elm starts to shine when users are supposed to interact with the HTML.</p><p>Let me enhance the Hello-World-scenario a bit: Now the user should be greeted personally with his name. For that she has to enter her name and the application has to modify the message accordingly. Try it out, here's a running Elm app implementing these requirements:</p><hr><div id="requestdemo"></div><p><script src="https://ralfw.de/download/blog/elmarchitectureflow/requestdemo.js"></script><br>       <script><br />
var node = document.getElementById('requestdemo');             var app = Elm.RequestDemo.embed(node);<br /></script></p><hr><p>As you can see the message is updated with every keystroke you type in the input box. Pretty cool, isn't it? ;-)</p><p>And here's the Elm code:</p><figure class="alignnone wp-image-1060"><a href="https://ralfw.github.io/homepage-ralfw-de/media/posts/74/img_57befc163117f.png"><img loading="lazy" src="https://ralfw.github.io/homepage-ralfw-de/media/posts/74/img_57befc163117f.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://ralfw.github.io/homepage-ralfw-de/media/posts/74/responsive/img_57befc163117f-xs.png 300w, https://ralfw.github.io/homepage-ralfw-de/media/posts/74/responsive/img_57befc163117f-sm.png 480w, https://ralfw.github.io/homepage-ralfw-de/media/posts/74/responsive/img_57befc163117f-md.png 768w, https://ralfw.github.io/homepage-ralfw-de/media/posts/74/responsive/img_57befc163117f-lg.png 1024w, https://ralfw.github.io/homepage-ralfw-de/media/posts/74/responsive/img_57befc163117f-xl.png 1360w, https://ralfw.github.io/homepage-ralfw-de/media/posts/74/responsive/img_57befc163117f-2xl.png 1600w" alt="" width="600" height="513"></a></figure><p></p><p>It represents most of what's called the Elm Architecture. Just notice the <em>model</em>, <em>view</em>, and <em>update</em> mentioned at the top. Sounds like MVC, but it isn't. Maybe I should call it the MVU pattern?</p><p>It can't be MVC because MVC is based on functional dependencies. But there aren't any in MVU. The functional units <em>view</em> and<em> update</em> do not know each other. <em>update</em> does not call <em>view</em> - nor the other way around. That's fundamentally different from MVC.</p><p>Elm thus follows what I call the <em>Principle of Mutual Oblivion</em> (PoMO, read more on that in this <a href="https://leanpub.com/messaging_as_a_programming_model" target="_blank">free eBook</a>): functional units working together towards a goal do not know each other and that way do not functionally depend on each other.</p><p><em>update</em> and <em>view</em> just share a data contract: <em>model</em> and <em>Requests</em>. Both flow as data (messages) between the two functions:</p><figure class="alignnone wp-image-1062 size-full"><img loading="lazy" src="https://ralfw.github.io/homepage-ralfw-de/media/posts/74/img_57bf0198107fd.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://ralfw.github.io/homepage-ralfw-de/media/posts/74/responsive/img_57bf0198107fd-xs.png 300w, https://ralfw.github.io/homepage-ralfw-de/media/posts/74/responsive/img_57bf0198107fd-sm.png 480w, https://ralfw.github.io/homepage-ralfw-de/media/posts/74/responsive/img_57bf0198107fd-md.png 768w, https://ralfw.github.io/homepage-ralfw-de/media/posts/74/responsive/img_57bf0198107fd-lg.png 1024w, https://ralfw.github.io/homepage-ralfw-de/media/posts/74/responsive/img_57bf0198107fd-xl.png 1360w, https://ralfw.github.io/homepage-ralfw-de/media/posts/74/responsive/img_57bf0198107fd-2xl.png 1600w" alt="" width="771" height="90"></figure><p>That's the essential Elm Architecture data flow. How long did it take you to reverse engineer that from the textual code? Or would have taken? At least me it took some time - which, sorry to say, is a waste. It's wasting precious developer minds to have them decode and reverse engineer textual code when a picture can convey the same with less words and less ambiguously.</p><p>What about <em>main</em> you might ask? <em>main</em> is still there, but it's doing nothing anymore. Its sole purpose now is to integrate <em>view</em> and <em>update </em>with the help of <em>Html.App.beginnerProgram</em>. Elm thus is also following what I call the <em>Integration Operation Segregation Principle</em> (IOSP, read more on that in this <a href="https://leanpub.com/messaging_as_a_programming_model" target="_blank">free eBook</a>). It states: a function either contains logic or integrates. Together with PoMO this leads to code free of functional dependencies.</p><p><em>main</em> is wiring up the fundamental data flow loop:</p><figure class="alignnone wp-image-1064 size-full"><img loading="lazy" src="https://ralfw.github.io/homepage-ralfw-de/media/posts/74/img_57bf03f0b01ee.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://ralfw.github.io/homepage-ralfw-de/media/posts/74/responsive/img_57bf03f0b01ee-xs.png 300w, https://ralfw.github.io/homepage-ralfw-de/media/posts/74/responsive/img_57bf03f0b01ee-sm.png 480w, https://ralfw.github.io/homepage-ralfw-de/media/posts/74/responsive/img_57bf03f0b01ee-md.png 768w, https://ralfw.github.io/homepage-ralfw-de/media/posts/74/responsive/img_57bf03f0b01ee-lg.png 1024w, https://ralfw.github.io/homepage-ralfw-de/media/posts/74/responsive/img_57bf03f0b01ee-xl.png 1360w, https://ralfw.github.io/homepage-ralfw-de/media/posts/74/responsive/img_57bf03f0b01ee-2xl.png 1600w" alt="" width="609" height="175"></figure><p>The "Elm cloud" is where HTML gets actually drawn and interactions with the HTML get translated back into the Elm world. For example when a user types into the input box the <em>onInput</em> function is called and produces the <em>UpdateName</em> message which is send together with the model as a request to <em>update.</em></p><p>Also Elm is responsible for keeping the <em>model</em> around. <em>view</em> and <em>update</em> are pure functions; they are stateless. But after <em>view<br></em>did its thing with the <em>model</em> flowing in it's not flowing out. So how come the <em>model</em> can flow on into <em>update</em>? Because Elm is keeping it around.</p><p>All data is immutable in Elm. So <em>view</em> cannot change the <em>model</em>. That's <em>update</em>'s task. It produces a new model upon each request which flows again into <em>view</em> to be displayed – and is memorized for the next roundtrip by the Elm runtime.</p><p>The <em>model</em> lives across interactions. The union type <em>Requests</em> stands for what's new for each interaction: a message from the user to <em>update</em>. The Elm documentation calls this type mostly <em>Msg</em>. But I find it more appropriate to name it <em>Requests</em>, because that's what's happening here: the user requests some behavior from the application.</p><p>What kind of behavior that might be is defined by the type's values. In this case it's just one: <em>UpdateName</em><em> String</em>.</p><h2>Doing impure stuff</h2><p>This kind of architecture already serves the purpose in many cases. But Elm is a real Functional Programming language. It tries to shield you from dirty side effects. All functions are pure. Each time you call them with the same input they produce the same output. That would defy the purpose of a function to return the current time, though. It's supposed to return a different value each time it's called with the same input (which is empty).</p><p>That's why getting at the current time is not really straightforward as in JavaScript or C#. There is no <em>DateTime.Now</em> function. Rather you need to command the Elm runtime to send you a message with the current time.</p><p>Here's an updated version of the Hello-World-program: it will greet you with a different message depending on the time of day.</p><hr><div id="cmddemo"></div><p><script src="https://ralfw.de/download/blog/elmarchitectureflow/cmddemo.js"></script><br>       <script><br />
var node = document.getElementById('cmddemo');             var app = Elm.CmdDemo.embed(node);<br /></script></p><hr><p>And this is the code behind it:</p><figure class="alignnone wp-image-1069"><img loading="lazy" src="https://ralfw.github.io/homepage-ralfw-de/media/posts/74/img_57bf19e1d8bb0.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://ralfw.github.io/homepage-ralfw-de/media/posts/74/responsive/img_57bf19e1d8bb0-xs.png 300w, https://ralfw.github.io/homepage-ralfw-de/media/posts/74/responsive/img_57bf19e1d8bb0-sm.png 480w, https://ralfw.github.io/homepage-ralfw-de/media/posts/74/responsive/img_57bf19e1d8bb0-md.png 768w, https://ralfw.github.io/homepage-ralfw-de/media/posts/74/responsive/img_57bf19e1d8bb0-lg.png 1024w, https://ralfw.github.io/homepage-ralfw-de/media/posts/74/responsive/img_57bf19e1d8bb0-xl.png 1360w, https://ralfw.github.io/homepage-ralfw-de/media/posts/74/responsive/img_57bf19e1d8bb0-2xl.png 1600w" alt="" width="600" height="804"></figure><p>The basic architecture is the same: there is <em>view</em>, there is <em>update</em>, there is a <em>model</em>, there are <em>Requests</em>. But now there is not just a <em>model</em> flowing between the functional units but a <em>model</em> and a so called command.</p><p>Commands are requests directed at the Elm runtime; they contain functions to be executed not directly, but behind the scenes, and whose result then get's passed to <em>update</em> as another request.</p><p>Check out <em>init</em>: It not just initializes a model but also builds a command. In this case that is a backround task to retrieve the current time. Once the tasks completes the time value flows out of the runtime as a <em>SetGreeting</em> message.</p><p>The updated Elm Architecture looks like this:</p><figure class="alignnone wp-image-1072 size-full"><img loading="lazy" src="https://ralfw.github.io/homepage-ralfw-de/media/posts/74/img_57bf1f6f50219.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://ralfw.github.io/homepage-ralfw-de/media/posts/74/responsive/img_57bf1f6f50219-xs.png 300w, https://ralfw.github.io/homepage-ralfw-de/media/posts/74/responsive/img_57bf1f6f50219-sm.png 480w, https://ralfw.github.io/homepage-ralfw-de/media/posts/74/responsive/img_57bf1f6f50219-md.png 768w, https://ralfw.github.io/homepage-ralfw-de/media/posts/74/responsive/img_57bf1f6f50219-lg.png 1024w, https://ralfw.github.io/homepage-ralfw-de/media/posts/74/responsive/img_57bf1f6f50219-xl.png 1360w, https://ralfw.github.io/homepage-ralfw-de/media/posts/74/responsive/img_57bf1f6f50219-2xl.png 1600w" alt="" width="773" height="225"></figure><p>Although <em>model</em> and command flow out of <em>init</em> and <em>update</em> as a tuple together I like to draw separate data streams for them. (Since Functional Programming does not use diagrams FP solutions often are pretty much stuck with functions to produce a single output for each input, although two different outputs are meant. I find that limiting. Data flow diagrams can express much more than that. But that's a topic for another day...)</p><p>Back to the Elm Architecture: Once you start with impurity commands enter the scene. Even if you don't want to command the runtime to do something you need to output a command: <em>Cmd.none</em>.</p><p>Typical <a href="http://www.elm-tutorial.org/en/03-subs-cmds/02-commands.html" target="_blank">commands</a> are background tasks or creating a random number or sending a HTTP request. Elm calls this "<a href="http://package.elm-lang.org/packages/elm-lang/core/4.0.0/Platform-Cmd" target="_blank">managed effects</a>".</p><h2>Listening to events</h2><p>And finally: What if you don't know when something interesting will happen upon which <em>update</em> should react? There is event handling build into Elm's runtime.</p><p>Whenever a model flows through the system you can register so called <em>subscriptions. </em>In the previous example there were none, but still I had to state that explicitly by defining a lambda function <em>\n -&gt; Sub.none.</em></p><p>In the final version of the Hello-World-program I want to change that. Why not change the color of the greeting depending on the current mouse position? Try it out:</p><hr><div id="subdemo"></div><p><script src="https://ralfw.de/download/blog/elmarchitectureflow/subdemo.js"></script><br>       <script><br />
var node = document.getElementById('subdemo');             var app = Elm.SubDemo.embed(node);<br /></script></p><hr><p>The code does not look that much different. The devil in the details is only a small devil ;-)</p><figure class="alignnone wp-image-1074"><img loading="lazy" src="https://ralfw.github.io/homepage-ralfw-de/media/posts/74/img_57bf2313751d3.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://ralfw.github.io/homepage-ralfw-de/media/posts/74/responsive/img_57bf2313751d3-xs.png 300w, https://ralfw.github.io/homepage-ralfw-de/media/posts/74/responsive/img_57bf2313751d3-sm.png 480w, https://ralfw.github.io/homepage-ralfw-de/media/posts/74/responsive/img_57bf2313751d3-md.png 768w, https://ralfw.github.io/homepage-ralfw-de/media/posts/74/responsive/img_57bf2313751d3-lg.png 1024w, https://ralfw.github.io/homepage-ralfw-de/media/posts/74/responsive/img_57bf2313751d3-xl.png 1360w, https://ralfw.github.io/homepage-ralfw-de/media/posts/74/responsive/img_57bf2313751d3-2xl.png 1600w" alt="" width="600" height="1049"></figure><p>Most important is the function <em>subscriptions</em> close to the end. It returns, well, a subscription to mouse move events. Each time the mouse changes its position a <em>RegisterMousePosition</em> message is send to <em>update.</em> It then updates the <em>mouseX</em> value in the <em>model</em> which <em>view</em> transforms into a color.</p><p>Please note that the <em>subscriptions</em> can change each time the model flows out of <em>init</em> and <em>update</em>. That way they can be switched on and off at any time. To subscribe repeatedly to the same event does no harm, though ;-)</p><figure class="alignnone wp-image-1075 size-full"><img loading="lazy" src="https://ralfw.github.io/homepage-ralfw-de/media/posts/74/img_57bf257aeba33.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://ralfw.github.io/homepage-ralfw-de/media/posts/74/responsive/img_57bf257aeba33-xs.png 300w, https://ralfw.github.io/homepage-ralfw-de/media/posts/74/responsive/img_57bf257aeba33-sm.png 480w, https://ralfw.github.io/homepage-ralfw-de/media/posts/74/responsive/img_57bf257aeba33-md.png 768w, https://ralfw.github.io/homepage-ralfw-de/media/posts/74/responsive/img_57bf257aeba33-lg.png 1024w, https://ralfw.github.io/homepage-ralfw-de/media/posts/74/responsive/img_57bf257aeba33-xl.png 1360w, https://ralfw.github.io/homepage-ralfw-de/media/posts/74/responsive/img_57bf257aeba33-2xl.png 1600w" alt="" width="773" height="333"></figure><p style="text-align: center;">***</p><p>That's all of the secret of the Elm Architecture as I understand it. Simple, isn't it? But only easy to understand once you get a picture of it.</p><p>Interestingly "architecture" in this case is not associated with structure like in class diagrams or the layered architecture pattern or even MVC. This time it's about communication, about data flow. That's because Elm is a Functional Programming language. It focuses on behavior, i.e. that which a customer or user is interested in most. Software is a bunch of processes transforming data from the environment reaching it through triggers, the result of such processing: behavior expressed by more data. Software essentially is about data transformation processes. And that's expressed best with data flow diagrams, I'd say.</p><p>That said I'd like to encourage you to take a look at Elm. It really puts the fun back into web programming. And since it's a UI oriented language/framework it's a nice way to play around with FP concepts. Makes FP more tangible; you can do more fun example programs.</p><p>And if you're not sure which toy problem to tackle, check our the <a href="http://ccd-school.de/coding-dojo/#cd5" target="_blank">Clean Code Developer School's coding dojo</a> with more than 70 code katas on different levels of difficulty.</p></div><footer class="wrapper post__footer"><p class="post__last-updated">This article was updated on 25.01.2021</p><ul class="post__tag"><li><a href="https://ralfw.github.io/homepage-ralfw-de/tags/elm/">Elm</a></li></ul><div class="post__share"></div></footer></article><nav class="post__nav"><div class="post__nav-inner"><div class="post__nav-prev"><svg width="1.041em" height="0.416em" aria-hidden="true"><use xlink:href="https://ralfw.github.io/homepage-ralfw-de/assets/svg/svg-map.svg#arrow-prev"/></svg> <a href="https://ralfw.github.io/homepage-ralfw-de/leiden-an-selbstverschuldeter-komplexitaet/" class="invert post__nav-link" rel="prev"><span>Previous</span> Leiden an selbstverschuldeter Komplexität</a></div><div class="post__nav-next"><a href="https://ralfw.github.io/homepage-ralfw-de/offene-fragen-zu-scrum-und-dem-viable-system-model/" class="invert post__nav-link" rel="next"><span>Next</span> Offene Fragen zu Scrum und dem Viable System Model </a><svg width="1.041em" height="0.416em" aria-hidden="true"><use xlink:href="https://ralfw.github.io/homepage-ralfw-de/assets/svg/svg-map.svg#arrow-next"/></svg></div></div></nav></main><footer class="footer"><div class="footer__copyright"><p>One Man Think Tank EOOD - Sofia, Bulgaria - <a href="../../../../../../imprint">Imprint</a> - <a href="../../../../../../data-privacy-policy">Data Privacy Policy</a></p></div><button class="footer__bttop js-footer__bttop" aria-label="Back to top"><svg><title>Back to top</title><use xlink:href="https://ralfw.github.io/homepage-ralfw-de/assets/svg/svg-map.svg#toparrow"/></svg></button></footer></div><script>window.publiiThemeMenuConfig = {    
        mobileMenuMode: 'sidebar',
        animationSpeed: 300,
        submenuWidth: 'auto',
        doubleClickTime: 500,
        mobileMenuExpandableSubmenus: true, 
        relatedContainerForOverlayMenuSelector: '.top',
   };</script><script defer="defer" src="https://ralfw.github.io/homepage-ralfw-de/assets/js/scripts.min.js?v=f4c4d35432d0e17d212f2fae4e0f8247"></script><script>var images = document.querySelectorAll('img[loading]');

        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script></body></html>