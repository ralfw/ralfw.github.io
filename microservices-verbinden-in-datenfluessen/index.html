<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Microservices verbinden in DatenflÃ¼ssen - ralfw-de</title><meta name="description" content="Mir hat der Blogartikel von Tobias Flohre gut gefallen, in dem er die Kommunikation zwischen Microservices mit asynchronen Events beschreibt. Er tut das als Gegenentwurf zu einer Darstellung mit BPMN und einer Implementation auf der Basis einer Workflow-Engine. Gut gefallen hat mir der Artikel, weil&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://ralfw.de/microservices-verbinden-in-datenfluessen/"><link rel="alternate" type="application/atom+xml" href="https://ralfw.de/feed.xml"><link rel="alternate" type="application/json" href="https://ralfw.de/feed.json"><meta property="og:title" content="Microservices verbinden in DatenflÃ¼ssen"><meta property="og:image" content="https://ralfw.de/media/posts/24/img_56608caca913f.png"><meta property="og:site_name" content="ralfw-de"><meta property="og:description" content="Mir hat der Blogartikel von Tobias Flohre gut gefallen, in dem er die Kommunikation zwischen Microservices mit asynchronen Events beschreibt. Er tut das als Gegenentwurf zu einer Darstellung mit BPMN und einer Implementation auf der Basis einer Workflow-Engine. Gut gefallen hat mir der Artikel, weil&hellip;"><meta property="og:url" content="https://ralfw.de/microservices-verbinden-in-datenfluessen/"><meta property="og:type" content="article"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@ralfw"><meta name="twitter:title" content="Microservices verbinden in DatenflÃ¼ssen"><meta name="twitter:description" content="Mir hat der Blogartikel von Tobias Flohre gut gefallen, in dem er die Kommunikation zwischen Microservices mit asynchronen Events beschreibt. Er tut das als Gegenentwurf zu einer Darstellung mit BPMN und einer Implementation auf der Basis einer Workflow-Engine. Gut gefallen hat mir der Artikel, weil&hellip;"><meta name="twitter:image" content="https://ralfw.de/media/posts/24/img_56608caca913f.png"><link rel="shortcut icon" href="https://ralfw.de/media/website/favicon.png" type="image/x-icon"><style>:root{--body-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--heading-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--logo-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--menu-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"}</style><link rel="stylesheet" href="https://ralfw.de/assets/css/style.css?v=0173fa4178744f44e30f72c6ec93483a"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://ralfw.de/microservices-verbinden-in-datenfluessen/"},"headline":"Microservices verbinden in DatenflÃ¼ssen","datePublished":"2015-12-03T21:24","dateModified":"2021-01-25T16:26","image":{"@type":"ImageObject","url":"https://ralfw.de/media/posts/24/img_56608caca913f.png","height":1238,"width":1804},"description":"Mir hat der Blogartikel von Tobias Flohre gut gefallen, in dem er die Kommunikation zwischen Microservices mit asynchronen Events beschreibt. Er tut das als Gegenentwurf zu einer Darstellung mit BPMN und einer Implementation auf der Basis einer Workflow-Engine. Gut gefallen hat mir der Artikel, weil&hellip;","author":{"@type":"Person","name":"Ralf Westphal"},"publisher":{"@type":"Organization","name":"Ralf Westphal","logo":{"@type":"ImageObject","url":"https://ralfw.de/media/website/logo-smaller.png","height":53,"width":250}}}</script></head><body><script type="text/javascript">var Tawk_API=Tawk_API||{}, Tawk_LoadStart=new Date();
(function(){
var s1=document.createElement("script"),s0=document.getElementsByTagName("script")[0];
s1.async=true;
s1.src='https://embed.tawk.to/606e06a2f7ce1827093813ae/1f2msm5ed';
s1.charset='UTF-8';
s1.setAttribute('crossorigin','*');
s0.parentNode.insertBefore(s1,s0);
})();</script><div class="site-container"><header class="top" id="js-header"><a class="logo" href="https://ralfw.de/"><img src="https://ralfw.de/media/website/logo-smaller.png" alt="ralfw-de"></a><nav class="navbar js-navbar"><button class="navbar__toggle js-toggle" aria-label="Menu" aria-haspopup="true" aria-expanded="false"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"><li><a href="https://ralfw.de/focus/" target="_self">Focus</a></li><li><a href="https://ralfw.de/approach/" target="_self">Approach</a></li><li class="has-submenu"><a href="https://ralfw.de/trainings/" target="_self" aria-haspopup="true">Trainings</a><ul class="navbar__submenu level-2" aria-hidden="true"><li><a href="https://ralfw.de/test-first-codierung/" target="_self">Test-first CodierungğŸ‡©ğŸ‡ª</a></li><li><a href="https://ralfw.de/softwareentwurf-mit-flow-design/" target="_self">Softwareentwurf mit Flow-DesignğŸ‡©ğŸ‡ª</a></li><li><a href="https://ralfw.de/software-anforderungsanalyse-mit-slicing/" target="_self">Software Anforderungsanalyse mit SlicingğŸ‡©ğŸ‡ª</a></li></ul></li><li><a href="https://ralfw.de/consulting/" target="_self">Consulting</a></li><li><a href="https://ralfw.de/publications/" target="_self">Publications</a></li><li><a href="https://ralfw.de/testimonials/" target="_self">Testimonials</a></li><li class="has-submenu"><a href="https://ralfw.de/" target="_self" aria-haspopup="true">BlogsğŸ‡©ğŸ‡ªğŸ‡¬ğŸ‡§</a><ul class="navbar__submenu level-2" aria-hidden="true"><li><a href="https://ralfw.de/" target="_self">2015.. ğŸ‡©ğŸ‡ªğŸ‡¬ğŸ‡§</a></li><li><a href="https://blog.ralfw.de/" target="_blank">ğŸŒ2007..2015ğŸ‡©ğŸ‡ª</a></li><li><a href="http://geekswithblogs.net/theArchitectsNapkin/Default.aspx" target="_blank">ğŸŒ2008..2015ğŸ‡¬ğŸ‡§</a></li><li><a href="https://weblogs.asp.net/ralfw" target="_blank">ğŸŒ2003..2010ğŸ‡¬ğŸ‡§</a></li><li><span class="is-separator">â”€â”€â”€â”€â”€â”€â”€â”€â”€</span></li><li><a href="http://soziokratie.ralfw.de/" target="_blank">ğŸŒZur SoziokratieğŸ‡©ğŸ‡ª</a></li><li><a href="https://medium.com/gedankliche-umtriebe" target="_blank">ğŸŒGedankliche UmtriebeğŸ‡©ğŸ‡ª</a></li><li><a href="https://medium.com/personal-flow" target="_blank">ğŸŒPersonal FlowğŸ‡©ğŸ‡ª</a></li></ul></li><li><a href="https://ralfw.de/about/" target="_self">About</a></li></ul></nav><div class="search"><div class="search__overlay js-search-overlay"><div class="search__overlay-inner"><form action="https://ralfw.de/search.html" class="search__form"><input class="search__input js-search-input" type="search" name="q" placeholder="search..." aria-label="search..." autofocus="autofocus"></form><button class="search__close js-search-close" aria-label="Close">Close</button></div></div><button class="search__btn js-search-btn" aria-label="Search"><svg role="presentation" focusable="false"><use xlink:href="https://ralfw.de/assets/svg/svg-map.svg#search"/></svg></button></div></header><main><article class="post"><div class="hero"><figure class="hero__image hero__image--overlay"><img src="https://ralfw.de/media/posts/24/img_56608caca913f.png" srcset="https://ralfw.de/media/posts/24/responsive/img_56608caca913f-xs.png 300w, https://ralfw.de/media/posts/24/responsive/img_56608caca913f-sm.png 480w, https://ralfw.de/media/posts/24/responsive/img_56608caca913f-md.png 768w, https://ralfw.de/media/posts/24/responsive/img_56608caca913f-lg.png 1024w, https://ralfw.de/media/posts/24/responsive/img_56608caca913f-xl.png 1360w, https://ralfw.de/media/posts/24/responsive/img_56608caca913f-2xl.png 1600w" sizes="(max-width: 1600px) 100vw, 1600px" loading="eager" height="1238" width="1804" alt=""></figure><header class="hero__content"><div class="wrapper"><div class="post__meta"><time datetime="2015-12-03T21:24">03.12.2015</time></div><h1>Microservices verbinden in DatenflÃ¼ssen</h1><div class="post__meta post__meta--author"><a href="https://ralfw.de/authors/ralf-westphal/" class="feed__author invert">Ralf Westphal</a></div></div></header></div><div class="wrapper post__entry"><p>Mir hat der Blogartikel von <a href="https://blog.codecentric.de/2015/09/wer-microservices-richtig-macht-braucht-keine-workflow-engine-und-kein-bpmn/" target="_blank">Tobias Flohre</a> gut gefallen, in dem er die Kommunikation zwischen Microservices mit asynchronen Events beschreibt. Er tut das als Gegenentwurf zu einer Darstellung mit <a href="https://de.wikipedia.org/wiki/Business_Process_Model_and_Notation" target="_blank">BPMN</a> und einer Implementation auf der Basis einer Workflow-Engine.</p><h2>Entkoppeln mit Events</h2><p>Gut gefallen hat mir der Artikel, weil Tobias damit eine Lanze fÃ¼r das <em><a href="http://blog.ralfw.de/2012/12/prinzip-der-gegenseitigen-nichtbeachtung.html" target="_blank">Principle of mutual Oblivion</a></em> (PoMO) bricht. Es besagt, dass Funktionseinheiten in Software nicht funktional abhÃ¤ngig von einander sein sollen. Logik in der einen sollte Logik in der anderen nicht kennen, nicht nutzen. Jede Funktionseinheit sollte vielmehr quasi selbstvergessen "nur ihr Ding machen" und sich nicht um die Umwelt scheren. So tut das in einem Organismus jede Zelle; warum also nicht auch jede Funktionseinheit in einer Software? (Das ist aus meiner Sicht sogar, was Alan Kay ursprÃ¼nglich unter Objektorientierung verstanden hat. Hier dazu eine Artikelserie von mir: <a href="http://geekswithblogs.net/theArchitectsNapkin/archive/2013/09/08/oop-as-if-you-meant-it.aspx" target="_blank">OOP as if you meant it</a>.)</p><p>Ich schreibe hier bewusst "Funktionseinheit", weil ich auf konzeptioneller Ebene spreche. Eine Funktionseinheit kann im Code eine Funktion oder eine Klasse... oder eben auch ein Microservice sein. Eben ein Modul als TrÃ¤ger von Verhalten herstellender Logik.</p><p>Eine PoMO-konforme Funktionseinheit bekommt von irgendwoher "etwas", arbeitet daraufhin und liefert anschlieÃŸend "etwas anderes" ab. Woher "etwas" kommt, wohin "etwas anderes" geht, das ist der Funktionseinheit einerlei. Das mag seltsam klingen â€“ doch Sie sind damit ganz vertraut. Jede Funktion <em>T f&lt;S,T&gt;(S s)</em> arbeitet so.</p><p>Hier ein Beispiel fÃ¼r eine solche Funktionseinheit aus Tobias' Artikel:</p><figure class="alignnone wp-image-489"><img loading="lazy" src="https://ralfw.de/media/posts/24/img_566086de31754.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://ralfw.de/media/posts/24/responsive/img_566086de31754-xs.png 300w, https://ralfw.de/media/posts/24/responsive/img_566086de31754-sm.png 480w, https://ralfw.de/media/posts/24/responsive/img_566086de31754-md.png 768w, https://ralfw.de/media/posts/24/responsive/img_566086de31754-lg.png 1024w, https://ralfw.de/media/posts/24/responsive/img_566086de31754-xl.png 1360w, https://ralfw.de/media/posts/24/responsive/img_566086de31754-2xl.png 1600w" alt="" width="578" height="188"></figure><p>Der Microservice <em>WarenReservierungService</em> konsumiert/abonniert zwei Events (links) und produziert/sendet zwei Events (rechts).</p><p>WeiÃŸ der Microservice, woher die Events kommen und wohin sie gehen? Nein. Er kennt seine Position in einem GrÃ¶ÃŸeren nicht, dessen Teil er ist.</p><p>Das gefÃ¤llt mir an Tobias Ansatz.</p><h2>Wer zuviel entkoppelt, verliert den Anschluss</h2><p>Aber fÃ¼r mein GefÃ¼hl kippt er damit das Kind mit dem Bade aus. Tut mir leid.</p><p>Denn wenn man auf solcher Sichtweise in der Kommunikation <em>mit Menschen</em> besteht, dann werden Microservice-Systeme nicht wirklich leichter <em>zu verstehen</em>.</p><p>Hier drei weitere Microservice-Beispiele aus dem Artikel. Sie mÃ¼ssen nicht verstehen, was die im Einzelnen tun:</p><figure class="alignnone wp-image-490"><img loading="lazy" src="https://ralfw.de/media/posts/24/img_5660888fd2759.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://ralfw.de/media/posts/24/responsive/img_5660888fd2759-xs.png 300w, https://ralfw.de/media/posts/24/responsive/img_5660888fd2759-sm.png 480w, https://ralfw.de/media/posts/24/responsive/img_5660888fd2759-md.png 768w, https://ralfw.de/media/posts/24/responsive/img_5660888fd2759-lg.png 1024w, https://ralfw.de/media/posts/24/responsive/img_5660888fd2759-xl.png 1360w, https://ralfw.de/media/posts/24/responsive/img_5660888fd2759-2xl.png 1600w" alt="" width="283" height="117"></figure><figure class="alignnone wp-image-491"><img loading="lazy" src="https://ralfw.de/media/posts/24/img_566088a40898a.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://ralfw.de/media/posts/24/responsive/img_566088a40898a-xs.png 300w, https://ralfw.de/media/posts/24/responsive/img_566088a40898a-sm.png 480w, https://ralfw.de/media/posts/24/responsive/img_566088a40898a-md.png 768w, https://ralfw.de/media/posts/24/responsive/img_566088a40898a-lg.png 1024w, https://ralfw.de/media/posts/24/responsive/img_566088a40898a-xl.png 1360w, https://ralfw.de/media/posts/24/responsive/img_566088a40898a-2xl.png 1600w" alt="" width="284" height="77"></figure><figure class="alignnone wp-image-492"><img loading="lazy" src="https://ralfw.de/media/posts/24/img_566088b4d0da2.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://ralfw.de/media/posts/24/responsive/img_566088b4d0da2-xs.png 300w, https://ralfw.de/media/posts/24/responsive/img_566088b4d0da2-sm.png 480w, https://ralfw.de/media/posts/24/responsive/img_566088b4d0da2-md.png 768w, https://ralfw.de/media/posts/24/responsive/img_566088b4d0da2-lg.png 1024w, https://ralfw.de/media/posts/24/responsive/img_566088b4d0da2-xl.png 1360w, https://ralfw.de/media/posts/24/responsive/img_566088b4d0da2-2xl.png 1600w" alt="" width="284" height="96"></figure><p>Fragen Sie sich vielmehr: Haben Sie eine Idee, was die im Gesamten tun? Sehen Sie einen Zusammenhang?</p><p>Nein. Das kÃ¶nnen Sie ja nicht, weil es kein Ganzes gibt. Jeder Microservice wird PoMO-betont allein dargestellt, also bewusst ahnungslos, zusammenhangslos.</p><p>Das ist ja einer von Tobias Punkten: Vergesst BPMN fÃ¼r Microservice-Systeme!</p><p>Aber mit BPMN wÃ¼rde ein Zusammenhang an den Anfang gestellt: ein GeschÃ¤ftsprozess. Hier das Beispiel aus seinem Artikel:</p><figure class="alignnone wp-image-493"><img loading="lazy" src="https://ralfw.de/media/posts/24/img_566089a81da26.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://ralfw.de/media/posts/24/responsive/img_566089a81da26-xs.png 300w, https://ralfw.de/media/posts/24/responsive/img_566089a81da26-sm.png 480w, https://ralfw.de/media/posts/24/responsive/img_566089a81da26-md.png 768w, https://ralfw.de/media/posts/24/responsive/img_566089a81da26-lg.png 1024w, https://ralfw.de/media/posts/24/responsive/img_566089a81da26-xl.png 1360w, https://ralfw.de/media/posts/24/responsive/img_566089a81da26-2xl.png 1600w" alt="" width="659" height="226"></figure><p>In so einem Prozessdiagramm kÃ¶nnen Sie verfolgen, wie "die Dinge laufen sollen". Oder besser, wie die Dinge flieÃŸen sollen.</p><p>Und warum denn auch nicht?</p><p>Was wird besser, wenn der Datenfluss durch Event-"SchweiÃŸnÃ¤hte" ersetzt wird? Hier Tobias Ãœberblicksdiagramm:</p><figure class="alignnone wp-image-494"><img loading="lazy" src="https://ralfw.de/media/posts/24/img_56608ae32f779.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://ralfw.de/media/posts/24/responsive/img_56608ae32f779-xs.png 300w, https://ralfw.de/media/posts/24/responsive/img_56608ae32f779-sm.png 480w, https://ralfw.de/media/posts/24/responsive/img_56608ae32f779-md.png 768w, https://ralfw.de/media/posts/24/responsive/img_56608ae32f779-lg.png 1024w, https://ralfw.de/media/posts/24/responsive/img_56608ae32f779-xl.png 1360w, https://ralfw.de/media/posts/24/responsive/img_56608ae32f779-2xl.png 1600w" alt="" width="655" height="231"></figure><p>Ist da jetzt Klarheit gewonnen? Ein Ganzes â€“ aber ohne erkennbare Ausrichtung. Pfeile zeigen kreuz und quer. Events (Daten) dominieren, AktivitÃ¤ten (Microservices) sind zwischengestreut.</p><p>Sorry, das verwirrt mich eher, denn dass es mir nÃ¼tzt.</p><h2>DatenflÃ¼sse zwischen Microservices</h2><p>Was ist denn aber eigentlich Tobias Problem mit BPMN?</p><p>Dass Daten flieÃŸen? Aber Events sind doch auch Daten. Im BPMN-Diagramm sind ja nicht mal Daten erwÃ¤hnt. Wer Events an die Pfeile notieren mag, kann das aus meiner Sicht tun. Oder wird man dann imkompatibel mit der heiligen BPMN?</p><p>Ist das Problem also vielleicht eher eine wuchtige Notation? BPMN 2.0 klingt ja fast wie UML 2.0. Wer Ã¼berblickt das schon? Das GefÃ¼hl kenne ich â€“ und benutze deshalb BPMN selten. Es ist fÃ¼r mich keine Notation, in der ich <em>EntwÃ¼rfe</em> beschreibe. BPMN gehÃ¶rt fÃ¼r mich eher in die Analyse und vor allem Dokumentation. FÃ¼r den Entwurf ziehe ich leichteres GepÃ¤ck vor; da will ich ja zÃ¼gig vorankommen bei der Exploration von LÃ¶sungsansÃ¤tzen.</p><p>Hier mein Vorschlag fÃ¼r Tobias Microservice-Architektur notiert mit einfachsten Mitteln als "Datenflussdiagramm":</p><figure class="alignnone wp-image-495"><a href="https://ralfw.de/media/posts/24/img_56608caca913f.png"><img loading="lazy" src="https://ralfw.de/media/posts/24/img_56608caca913f.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://ralfw.de/media/posts/24/responsive/img_56608caca913f-xs.png 300w, https://ralfw.de/media/posts/24/responsive/img_56608caca913f-sm.png 480w, https://ralfw.de/media/posts/24/responsive/img_56608caca913f-md.png 768w, https://ralfw.de/media/posts/24/responsive/img_56608caca913f-lg.png 1024w, https://ralfw.de/media/posts/24/responsive/img_56608caca913f-xl.png 1360w, https://ralfw.de/media/posts/24/responsive/img_56608caca913f-2xl.png 1600w" alt="" width="663" height="455"></a></figure><p></p><p>Ich habe seine Microservice- und Eventnamen abgekÃ¼rzt fÃ¼r mehr Fokus auf den Fluss, das Ganze, den Zusammenhang.</p><p>Fett hervorgehoben ist der Event<em>verlauf</em> (statt Datenfluss) fÃ¼r den happy day Fall: alles lÃ¤uft prima mit der Bestellung. Rote Events signalisieren unerwartete Ereignisse, Ausnahmen. Violette Events beschreiben Aufforderungen zur Kompensation.</p><p>Was ist falsch daran, einen solchen knappen Ãœberblick fÃ¼r das Ganze des Prozesses, um den es unstrittig geht, haben zu wollen? So nÃ¼tzlich die "zusammenhanglose" Darstellung im Sinne des PoMO sein mag wie hier z.B. als Microservice-Event-Matrix â€“ sie kann keinesfalls genÃ¼gen. Denn ihre Interpretation, d.h. das Reverseengineering des darin codierten Prozesses im Kopf macht viel MÃ¼he und ist fehleranfÃ¤llig. Damit lassen sich Modelle nur schwer von Mensch zu Menschn transportieren:</p><figure class="alignnone wp-image-496"><img loading="lazy" src="https://ralfw.de/media/posts/24/img_56608e3e58dde.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://ralfw.de/media/posts/24/responsive/img_56608e3e58dde-xs.png 300w, https://ralfw.de/media/posts/24/responsive/img_56608e3e58dde-sm.png 480w, https://ralfw.de/media/posts/24/responsive/img_56608e3e58dde-md.png 768w, https://ralfw.de/media/posts/24/responsive/img_56608e3e58dde-lg.png 1024w, https://ralfw.de/media/posts/24/responsive/img_56608e3e58dde-xl.png 1360w, https://ralfw.de/media/posts/24/responsive/img_56608e3e58dde-2xl.png 1600w" alt="" width="664" height="604"></figure><p>Und darin stecken doch auch die Linien des Datenflussdiagramms. Sie verlaufen vertikal in einer Event-Spalte von w-Microservicequellen zu r-Senken. Und Tobias' Einzeldarstellungen finden sich horizontal pro Zeile jedes Microservice'.</p><p>Da kann man entdecken, wer ein rechter Eventspringbrunnen :-) ist, z.B. GES. Oder wo Events vor allem "hingesogen" werden, z.B. BAS.</p><p>Wenn ich im Fehlerfall oder als neuer Kollege aber verstehen will, wie so ein Microservice-System funktioniert... dann mÃ¶chte ich ein Datenflussdiagramm (oder Eventverlauf) sehen.</p><p>Wie gesagt, es reicht doch eines wie oben gezeigt. Darin sehe ich die Services, darin sehe ich auch noch, welche ein Frontend haben. Und ich sehe, welche Events es gibt und wie sie flieÃŸen. Wer erzeugt welche, wer konsumiert welche. So kann ich mir Gedanken Ã¼ber KausalitÃ¤ten machen.</p><p>Und was sagt das Ã¼ber die Implementation aus? Nichts.</p><p>MÃ¼ssen deshalb Microservices wie WRS und GES einander kennen, nur weil zwischen ihnen ein Pfeil lÃ¤uft? NatÃ¼rlich nicht. Ein Pfeil zeigt ja nur an, dass Daten flieÃŸen. Es ist kein UML-AbhÃ¤ngigkeitspfeil, sondern ein Flusspfeil. Kennt die Quelle das Meer? Und doch kÃ¶nnen wir einen Fluss als Pfeil von ihr dorthin abstrahieren.</p><p>Muss unter einer Implementation solch eines Diagramms ein ESB liegen, eine Workflow-Engine oder auch nur irgendeine spezielle Technologie? Nein. Das kann jeder entscheiden, wie er mag â€“ im Rahmen des PoMO. Und ich glaube, das wollte Tobias rÃ¼berbringen: "Leute, macht eure Microservices nicht von einander abhÃ¤ngig!"</p><p>Ich wÃ¼rde sogar noch weitergehen und sagen: Man sollte die Logik eines Microservice, also seine DomÃ¤ne so formulieren, dass schon die nicht weiÃŸ, ob sie Ã¼berhaupt in einem Microservice aufgehÃ¤ngt ist. Das kÃ¶nnte in C# so aussehen:</p><pre class="lang:c# decode:true">public class Warenreservierung {
  public void Verarbeiten(BestellungErzeugtEvent e) {
    ...
  }
 
  public event Action&lt;WarenReserviertEvent&gt; WennWarenReserviert;
  public event Action&lt;WarenNichtReserviert&gt; WennReservierungFehlgeschlagen;
}</pre><p>Das Microservicespezifische ist dann drumherum zu wickeln. Es liegt auf einem anderen Stratum als die DomÃ¤ne im Sinne eines <a href="http://dspace.mit.edu/bitstream/handle/1721.1/6064/AIM-986.pdf" target="_blank">stratified design</a> oder einer <a href="http://jeffreypalermo.com/blog/the-onion-architecture-part-1/" target="_blank">Onion Architecture</a> des einzelnen Microservice. Sie kÃ¶nnten ihr ganzes Microservice-System also auch zuerst in einem Prozess asynchron laufen lassen, indem Sie solche DomÃ¤nenlogik in Actors aufhÃ¤ngen.</p><p>Die Masterfrage ist am Ende also natÃ¼rlich: Wie kann die konzeptionelle Ignoranz der Microservices gegenÃ¼ber einem Prozess, also dem, was upstream bzw. downstream passiert, auch in der technischen Umsetzung erhalten werden?</p><p>Dazu mÃ¶gen technologisch und produktbezogen Kundigere etwas sagen.</p><p>Hier nur noch ein Hinweis: Die Linie zwischen entkoppelnder PoMO-KonformitÃ¤t und koppelnder funktionaler AbhÃ¤ngigkeit ist manchmal fein. Bei der obigen Beispielklasse wÃ¼rde sie z.B. Ã¼berschritten, wenn der erste Event so definiert wÃ¤re:</p><pre class="nums:false lang:c# decode:true">public event Action&lt;WarenReserviertEvent&gt; GeldEinziehenService;</pre><p>Sehen Sie den Unterschied?</p><p>Nur der Event-Name lautet anders. Er bezieht sich nicht mehr auf den Service selbst, ist nicht nach innen gerichtet, sondern nimmt Bezug auf einen anderen Service, ist also nach auÃŸen auf einen konkreten downstream Prozess gerichtet.</p><p>So wÃ¼rde der Microservice in einem bestimmten Kontext gezwÃ¤ngt. Sein Kontrakt wÃ¼rde Ã¼ber die Events hinausgehen, die er verarbeiten kann und die er erzeugt. Das wÃ¤re eng koppelnd, unnÃ¶tig eng.</p><p>Also: Vorsicht bei der Implementation von Microservice-SystementwÃ¼rfen! Da stimme ich Tobias Flohre ganz zu.</p><p>Doch deshalb wÃ¼rde ich eben keine Technologie ausschlieÃŸen â€“ soweit sie PoMO-konform implementieren kann. Und ich wÃ¼rde vor allem nicht ausschlieÃŸen, in DatenflÃ¼ssen zu denken und Microservice-System in der Weise auch (visuell) zu kommunizieren.</p><p>Wenn Microservice-Systeme keine Prozesse realisieren sollen, weiÃŸ ich auch nicht. Und Prozesse sind als Prozesse darzustellen. Alles andere erzeugt einen Impedanzunterschied zwischen Kopf und Code, der nur Schmerzen bereitet.</p></div><footer class="wrapper post__footer"><p class="post__last-updated">This article was updated on 25.01.2021</p><ul class="post__tag"><li><a href="https://ralfw.de/tags/microservices/">Microservices</a></li></ul><div class="post__share"></div></footer></article><nav class="post__nav"><div class="post__nav-inner"><div class="post__nav-prev"><svg width="1.041em" height="0.416em" aria-hidden="true"><use xlink:href="https://ralfw.de/assets/svg/svg-map.svg#arrow-prev"/></svg> <a href="https://ralfw.de/elements-of-success/" class="invert post__nav-link" rel="prev"><span>Previous</span> Elements of Success</a></div><div class="post__nav-next"><a href="https://ralfw.de/landluft-macht-frei/" class="invert post__nav-link" rel="next"><span>Next</span> Landluft macht frei </a><svg width="1.041em" height="0.416em" aria-hidden="true"><use xlink:href="https://ralfw.de/assets/svg/svg-map.svg#arrow-next"/></svg></div></div></nav></main><footer class="footer"><div class="footer__copyright"><p>One Man Think Tank EOOD - Sofia, Bulgaria - <a href="../../../../../../imprint">Imprint</a> - <a href="../../../../../../data-privacy-policy">Data Privacy Policy</a></p></div><button class="footer__bttop js-footer__bttop" aria-label="Back to top"><svg><title>Back to top</title><use xlink:href="https://ralfw.de/assets/svg/svg-map.svg#toparrow"/></svg></button></footer></div><script>window.publiiThemeMenuConfig = {    
        mobileMenuMode: 'sidebar',
        animationSpeed: 300,
        submenuWidth: 'auto',
        doubleClickTime: 500,
        mobileMenuExpandableSubmenus: true, 
        relatedContainerForOverlayMenuSelector: '.top',
   };</script><script defer="defer" src="https://ralfw.de/assets/js/scripts.min.js?v=f4c4d35432d0e17d212f2fae4e0f8247"></script><script>var images = document.querySelectorAll('img[loading]');

        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script></body></html>