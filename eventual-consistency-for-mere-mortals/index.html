<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Eventual Consistency for Mere Mortals - ralfw-de</title><meta name="description" content="Developers shun it, if they can: Eventual Consistency (EC). Rather they jump through hoops and invest huge efforts and drive technologies through all sorts of contortions to avoid even small areas of EC in their applications. What developers love is Immediate Consistency (IC). That’s what&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://ralfw.de/eventual-consistency-for-mere-mortals/"><link rel="alternate" type="application/atom+xml" href="https://ralfw.de/feed.xml"><link rel="alternate" type="application/json" href="https://ralfw.de/feed.json"><meta property="og:title" content="Eventual Consistency for Mere Mortals"><meta property="og:image" content="https://ralfw.de/media/posts/126/DraggedImage-12.png"><meta property="og:site_name" content="ralfw-de"><meta property="og:description" content="Developers shun it, if they can: Eventual Consistency (EC). Rather they jump through hoops and invest huge efforts and drive technologies through all sorts of contortions to avoid even small areas of EC in their applications. What developers love is Immediate Consistency (IC). That’s what&hellip;"><meta property="og:url" content="https://ralfw.de/eventual-consistency-for-mere-mortals/"><meta property="og:type" content="article"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@ralfw"><meta name="twitter:title" content="Eventual Consistency for Mere Mortals"><meta name="twitter:description" content="Developers shun it, if they can: Eventual Consistency (EC). Rather they jump through hoops and invest huge efforts and drive technologies through all sorts of contortions to avoid even small areas of EC in their applications. What developers love is Immediate Consistency (IC). That’s what&hellip;"><meta name="twitter:image" content="https://ralfw.de/media/posts/126/DraggedImage-12.png"><link rel="shortcut icon" href="https://ralfw.de/media/website/favicon.png" type="image/x-icon"><style>:root{--body-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--heading-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--logo-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--menu-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"}</style><link rel="stylesheet" href="https://ralfw.de/assets/css/style.css?v=c13570ce2327ee7300beba58cfcdd736"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://ralfw.de/eventual-consistency-for-mere-mortals/"},"headline":"Eventual Consistency for Mere Mortals","datePublished":"2019-06-01T19:26","dateModified":"2021-01-28T13:49","image":{"@type":"ImageObject","url":"https://ralfw.de/media/posts/126/DraggedImage-12.png","height":548,"width":1138},"description":"Developers shun it, if they can: Eventual Consistency (EC). Rather they jump through hoops and invest huge efforts and drive technologies through all sorts of contortions to avoid even small areas of EC in their applications. What developers love is Immediate Consistency (IC). That’s what&hellip;","author":{"@type":"Person","name":"Ralf Westphal","url":"https://ralfw.de/authors/ralf-westphal/"},"publisher":{"@type":"Organization","name":"Ralf Westphal","logo":{"@type":"ImageObject","url":"https://ralfw.de/media/website/logo-smaller.png","height":53,"width":250}}}</script></head><body><script type="text/javascript">var Tawk_API=Tawk_API||{}, Tawk_LoadStart=new Date();
(function(){
var s1=document.createElement("script"),s0=document.getElementsByTagName("script")[0];
s1.async=true;
s1.src='https://embed.tawk.to/606e06a2f7ce1827093813ae/1f2msm5ed';
s1.charset='UTF-8';
s1.setAttribute('crossorigin','*');
s0.parentNode.insertBefore(s1,s0);
})();</script><div class="site-container"><header class="top" id="js-header"><a class="logo" href="https://ralfw.de/"><img src="https://ralfw.de/media/website/logo-smaller.png" alt="ralfw-de"></a><nav class="navbar js-navbar"><button class="navbar__toggle js-toggle" aria-label="Menu" aria-haspopup="true" aria-expanded="false"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"><li><a href="https://ralfw.de/focus/" target="_self">Focus</a></li><li><a href="https://ralfw.de/approach/" target="_self">Approach</a></li><li class="has-submenu"><a href="https://ralfw.de/trainings/" target="_self" aria-haspopup="true">Trainings</a><ul class="navbar__submenu level-2" aria-hidden="true"><li><a href="https://ralfw.de/test-first-codierung/" target="_self">Test-first Codierung🇩🇪</a></li><li><a href="https://ralfw.de/softwareentwurf-mit-flow-design/" target="_self">Softwareentwurf mit Flow-Design🇩🇪</a></li><li><a href="https://ralfw.de/software-anforderungsanalyse-mit-slicing/" target="_self">Software Anforderungsanalyse mit Slicing🇩🇪</a></li></ul></li><li><a href="https://ralfw.de/consulting/" target="_self">Consulting</a></li><li><a href="https://ralfw.de/publications/" target="_self">Publications</a></li><li><a href="https://ralfw.de/testimonials/" target="_self">Testimonials</a></li><li class="has-submenu"><a href="https://ralfw.de/" target="_self" aria-haspopup="true">Blogs🇩🇪🇬🇧</a><ul class="navbar__submenu level-2" aria-hidden="true"><li><a href="https://ralfwestphal.substack.com/" target="_blank">Newsletter @ substack.com</a></li><li><a href="https://ralfw.de/" target="_self">2015.. 🇩🇪🇬🇧</a></li><li><a href="https://blog.ralfw.de/" target="_blank">🌐2007..2015🇩🇪</a></li><li><a href="http://geekswithblogs.net/theArchitectsNapkin/Default.aspx" target="_blank">🌐2008..2015🇬🇧</a></li><li><a href="https://weblogs.asp.net/ralfw" target="_blank">🌐2003..2010🇬🇧</a></li><li><span class="is-separator">─────────</span></li><li><a href="http://soziokratie.ralfw.de/" target="_blank">🌐Zur Soziokratie🇩🇪</a></li><li><a href="https://medium.com/gedankliche-umtriebe" target="_blank">🌐Gedankliche Umtriebe🇩🇪</a></li><li><a href="https://medium.com/personal-flow" target="_blank">🌐Personal Flow🇩🇪</a></li></ul></li><li><a href="https://ralfw.de/about/" target="_self">About</a></li></ul></nav><div class="search"><div class="search__overlay js-search-overlay"><div class="search__overlay-inner"><form action="https://ralfw.de/search.html" class="search__form"><input class="search__input js-search-input" type="search" name="q" placeholder="search..." aria-label="search..." autofocus="autofocus"></form><button class="search__close js-search-close" aria-label="Close">Close</button></div></div><button class="search__btn js-search-btn" aria-label="Search"><svg role="presentation" focusable="false"><use xlink:href="https://ralfw.de/assets/svg/svg-map.svg#search"/></svg></button></div></header><main><article class="post"><div class="hero"><figure class="hero__image hero__image--overlay"><img src="https://ralfw.de/media/posts/126/DraggedImage-12.png" srcset="https://ralfw.de/media/posts/126/responsive/DraggedImage-12-xs.png 300w, https://ralfw.de/media/posts/126/responsive/DraggedImage-12-sm.png 480w, https://ralfw.de/media/posts/126/responsive/DraggedImage-12-md.png 768w, https://ralfw.de/media/posts/126/responsive/DraggedImage-12-lg.png 1024w, https://ralfw.de/media/posts/126/responsive/DraggedImage-12-xl.png 1360w, https://ralfw.de/media/posts/126/responsive/DraggedImage-12-2xl.png 1600w" sizes="(max-width: 1600px) 100vw, 1600px" loading="eager" height="548" width="1138" alt=""></figure><header class="hero__content"><div class="wrapper"><div class="post__meta"><time datetime="2019-06-01T19:26">01.06.2019</time></div><h1>Eventual Consistency for Mere Mortals</h1><div class="post__meta post__meta--author"><a href="https://ralfw.de/authors/ralf-westphal/" class="feed__author invert">Ralf Westphal</a></div></div></header></div><div class="wrapper post__entry"><p></p><p>Developers shun it, if they can: <a href="https://en.wikipedia.org/wiki/Eventual_consistency" target="_blank" rel="noopener">Eventual Consistency (EC)</a>. Rather they jump through hoops and invest huge efforts and drive technologies through all sorts of contortions to avoid even small areas of EC in their applications.</p><p></p><p></p><p>What developers love is Immediate Consistency (IC). That’s what RDBMS are promising with their <a href="https://en.wikipedia.org/wiki/ACID_(computer_science)">ACID</a> transactions. Developers don’t want to give inconsistency any room (or better: time). Only Permanent Consistency is good enough for them. Yeah, sure, it matches the zeitgeist: PC ;-)</p><p></p><p></p><p>IC is easy to reason about, EC is hard. IC you can delegate to technologies. But with EC you have to take care of inconsistencies yourself, should they occurr.</p><p></p><p></p><p>I guess, in the end it’s a matter of blame: With IC you can blame technology for inconsistencies; with EC, though, the blame is not that easily deflected.</p><p></p><p></p><p>Plus, since developers are animals of possibility rather than probability they fear EC for all that could possibly go wrong, all the possible inconsistent states they would need to anticipate and take care of.</p><p></p><p></p><p>Only grudgingly they accept the <a href="https://en.wikipedia.org/wiki/CAP_theorem" target="_blank" rel="noopener">CAP theorem</a> which states that IC is not for free. You’re paying a price which increasingly becomes visible in growing and distributed systems.</p><p></p><p></p><p>I really empathize with this view. EC seems scary. Do I really have to deal with it? Can’t I keep using technologies which assure me IC without much effort?</p><p></p><p></p><p>Sure, I can. But that would limit me to certain applications. And, I think, it also limits the evolvability of even smaller applications. Because as soon as you consider <a href="https://dev.to/barryosull/event-sourcing-what-it-is-and-why-its-awesome" target="_blank" rel="noopener">Event Sourcing</a> as the foundation of your software system, then you have to deal with EC, I’d say.</p><p></p><p></p><p>Yes, I think Event Sourcing helps evolvability at lot. You can be a SOLID developer, you can be a fan of Clean Architecture and what not, but unless you give up the notion of a central static domain data model you’re still living in a cage. Your flexibility is limited by a dominant structure in memory and/or on disk. Where there is a single domain data model at the core of an application, there are innumerable dependencies on it, which require it to be very stable.</p><p></p><p></p><p>Stability is good in some places, e.g. contracts; that’s the purpose of contracts as abstractions. But a domain data model - in my experience - is a bad place to demand stability. How domain data is structured is under constant pressure because it’s a mirror of your understanding of the domain - which is in permanent evolution due to new requirements plus more encounters with domain experts. New features, new use cases, new software system clients put ever changing demands on how data should be represented and presented to them.</p><p></p><p></p><p>If you want to respond to all this volatility you need fine grained data you can knead into very different shapes at short notice. Event Sourcing is providing exactly that. And with a <a href="https://ralfw.de/food-truck-architecture-its-all-about-events/">Food Truck Architecture</a> you’re exploiting this potential.</p><p></p><p></p><p>However… you have to become comfortable with EC. That’s the price of evolvability for <a href="https://ralfw.de/focus/">high longterm productivity</a> which you need to stay relaxed in software business.</p><p></p><p></p><p>But maybe EC isn’t that evil? I was a big believer in „ACID forever!“ ;-) Since then a lot of things have changed, though. And now I want to no longer fear EC, but embrace it. Because it has so much potential - and is so natural.</p><p></p><p></p><h2>Eventual consistency is everywhere</h2><p></p><p></p><p>Even though a developer’s fear of EC is understandable, I think it’s misguided. It’s misguided because it denies the very nature of the world. IC is an illusion. There is no IC in nature. The reason is simple: the speed with which information can travel is ultimately limited to the speed of light.</p><p></p><p></p><p>The notion of IC is man-made. It’s an artificial constraint which might make things better in the short term or in the small - but in the end it’s limiting and hard to keep up.</p><p></p><p></p><p>I saw a cartoon trying to explain EC <a href="https://twitter.com/gregyoung/status/1101642600342265857" target="_blank" rel="noopener">in a tweet by Greg Young</a>:</p><p></p><p></p><div class="wp-block-image"><figure class="aligncenter"><figure class="wp-image-2568"><img loading="lazy" src="https://ralfw.de/media/posts/126/DraggedImage.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://ralfw.de/media/posts/126/responsive/DraggedImage-xs.png 300w, https://ralfw.de/media/posts/126/responsive/DraggedImage-sm.png 480w, https://ralfw.de/media/posts/126/responsive/DraggedImage-md.png 768w, https://ralfw.de/media/posts/126/responsive/DraggedImage-lg.png 1024w, https://ralfw.de/media/posts/126/responsive/DraggedImage-xl.png 1360w, https://ralfw.de/media/posts/126/responsive/DraggedImage-2xl.png 1600w" alt="" width="500" height="848"></figure></figure></div><p></p><p></p><p>I liked it - however I find it pretty intellectual and thus not really helpful for overcoming „EC anxiety“ ;-)</p><p></p><p></p><p>EC is not that complicated to understand. Let me try to explain…</p><p></p><p></p><h3>What is consistency in the first place?</h3><p></p><p></p><p><a href="https://www.thefreedictionary.com/consistency" target="_blank" rel="noopener">According to the free dictionary</a> consistency is:</p><p></p><p></p><blockquote class="wp-block-quote"><p>Agreement or logical coherence among things or parts [and/or] correspondence among related aspects; compatibility</p></blockquote><p></p><p></p><p>That means: Consistency is a matter of two (or more things) where the properties of one thing depend on properties of the other thing. How the properties here and there are related is a matter of some consistency criteria.</p><p></p><p></p><p>Take for example two shapes which should be of the same color:</p><p></p><p></p><div class="wp-block-image"><figure class="aligncenter"><figure class="wp-image-2557"><img loading="lazy" src="https://ralfw.de/media/posts/126/DraggedImage-1.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://ralfw.de/media/posts/126/responsive/DraggedImage-1-xs.png 300w, https://ralfw.de/media/posts/126/responsive/DraggedImage-1-sm.png 480w, https://ralfw.de/media/posts/126/responsive/DraggedImage-1-md.png 768w, https://ralfw.de/media/posts/126/responsive/DraggedImage-1-lg.png 1024w, https://ralfw.de/media/posts/126/responsive/DraggedImage-1-xl.png 1360w, https://ralfw.de/media/posts/126/responsive/DraggedImage-1-2xl.png 1600w" alt="" width="318" height="70"></figure></figure></div><p></p><p></p><p>Both pairs show consistency with regard to the criteria „being of same color“. But not the following ones:</p><p></p><p></p><div class="wp-block-image"><figure class="aligncenter"><figure class="wp-image-2559"><img loading="lazy" src="https://ralfw.de/media/posts/126/DraggedImage-2.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://ralfw.de/media/posts/126/responsive/DraggedImage-2-xs.png 300w, https://ralfw.de/media/posts/126/responsive/DraggedImage-2-sm.png 480w, https://ralfw.de/media/posts/126/responsive/DraggedImage-2-md.png 768w, https://ralfw.de/media/posts/126/responsive/DraggedImage-2-lg.png 1024w, https://ralfw.de/media/posts/126/responsive/DraggedImage-2-xl.png 1360w, https://ralfw.de/media/posts/126/responsive/DraggedImage-2-2xl.png 1600w" alt="" width="135" height="80"></figure></figure></div><p></p><p></p><p>The colors are inconsistent. The coloring of the shapes does not follow the consistency rule.</p><p></p><p></p><p>The things to be consistent and the consistency criteria can be of all different kinds. Here’s another example:</p><p></p><p></p><ol><li>a list of things</li><li>a number</li></ol><p></p><p></p><p>Consistency criteria: „the number should always be equal to the number of things in the list.“</p><p></p><p></p><p>Here things are consistent:</p><p></p><p></p><div class="wp-block-image"><figure class="aligncenter"><figure class="wp-image-2558"><img loading="lazy" src="https://ralfw.de/media/posts/126/DraggedImage-3.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://ralfw.de/media/posts/126/responsive/DraggedImage-3-xs.png 300w, https://ralfw.de/media/posts/126/responsive/DraggedImage-3-sm.png 480w, https://ralfw.de/media/posts/126/responsive/DraggedImage-3-md.png 768w, https://ralfw.de/media/posts/126/responsive/DraggedImage-3-lg.png 1024w, https://ralfw.de/media/posts/126/responsive/DraggedImage-3-xl.png 1360w, https://ralfw.de/media/posts/126/responsive/DraggedImage-3-2xl.png 1600w" alt="" width="236" height="100"></figure></figure></div><p></p><p></p><p>But not here:</p><p></p><p></p><div class="wp-block-image"><figure class="aligncenter"><figure class="wp-image-2561"><img loading="lazy" src="https://ralfw.de/media/posts/126/DraggedImage-4.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://ralfw.de/media/posts/126/responsive/DraggedImage-4-xs.png 300w, https://ralfw.de/media/posts/126/responsive/DraggedImage-4-sm.png 480w, https://ralfw.de/media/posts/126/responsive/DraggedImage-4-md.png 768w, https://ralfw.de/media/posts/126/responsive/DraggedImage-4-lg.png 1024w, https://ralfw.de/media/posts/126/responsive/DraggedImage-4-xl.png 1360w, https://ralfw.de/media/posts/126/responsive/DraggedImage-4-2xl.png 1600w" alt="" width="245" height="105"></figure></figure></div><p></p><p></p><h3>Consistency is in the eye of the beholder</h3><p></p><p></p><p>Consistency might seem to be „in the things themselves“, but it’s not. Consistency is not a physical property, but a logical one. It thus requires an observer. Somebody must analyze a scene and interpret the observations according to the consistency rule. Consistency is of no matter as long as nobody is looking.</p><p></p><p></p><div class="wp-block-image"><figure class="aligncenter"><figure class="wp-image-2563"><img loading="lazy" src="https://ralfw.de/media/posts/126/DraggedImage-5.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://ralfw.de/media/posts/126/responsive/DraggedImage-5-xs.png 300w, https://ralfw.de/media/posts/126/responsive/DraggedImage-5-sm.png 480w, https://ralfw.de/media/posts/126/responsive/DraggedImage-5-md.png 768w, https://ralfw.de/media/posts/126/responsive/DraggedImage-5-lg.png 1024w, https://ralfw.de/media/posts/126/responsive/DraggedImage-5-xl.png 1360w, https://ralfw.de/media/posts/126/responsive/DraggedImage-5-2xl.png 1600w" alt="" width="390" height="237"></figure></figure></div><p></p><p></p><p>Two observers can look at the same things and both come to different conclusions regarding their consistency. It depends on the criteria each observer applies.</p><p></p><p></p><h3>Evolving consistency</h3><p></p><p></p><p>Where there is an observer there is time. Because observation takes time, even if it’s only a micro-second.</p><p></p><p></p><p>Take this scene from above for example:</p><p></p><p></p><div class="wp-block-image"><figure class="aligncenter"><figure class="wp-image-2567"><img loading="lazy" src="https://ralfw.de/media/posts/126/DraggedImage-6.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://ralfw.de/media/posts/126/responsive/DraggedImage-6-xs.png 300w, https://ralfw.de/media/posts/126/responsive/DraggedImage-6-sm.png 480w, https://ralfw.de/media/posts/126/responsive/DraggedImage-6-md.png 768w, https://ralfw.de/media/posts/126/responsive/DraggedImage-6-lg.png 1024w, https://ralfw.de/media/posts/126/responsive/DraggedImage-6-xl.png 1360w, https://ralfw.de/media/posts/126/responsive/DraggedImage-6-2xl.png 1600w" alt="" width="154" height="91"></figure></figure></div><p></p><p></p><p>In this trivial case your consistency judgement happens unconsciously and very quickly, you barely notice the passage of time. Your impression is, you „immediately“ (or „at a glance“) see the consistency of the shapes.</p><p></p><p></p><p>But when you look very, very closely, you’ll realize it nevertheless takes a bit of time:</p><p></p><p></p><ol><li>You look at the left shape</li><li>You look at the right shape</li><li>You compare your observations in your head and apply the consistency criteria</li></ol><p></p><p></p><div class="wp-block-image"><figure class="aligncenter"><figure class="wp-image-2564"><img loading="lazy" src="https://ralfw.de/media/posts/126/DraggedImage-7.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://ralfw.de/media/posts/126/responsive/DraggedImage-7-xs.png 300w, https://ralfw.de/media/posts/126/responsive/DraggedImage-7-sm.png 480w, https://ralfw.de/media/posts/126/responsive/DraggedImage-7-md.png 768w, https://ralfw.de/media/posts/126/responsive/DraggedImage-7-lg.png 1024w, https://ralfw.de/media/posts/126/responsive/DraggedImage-7-xl.png 1360w, https://ralfw.de/media/posts/126/responsive/DraggedImage-7-2xl.png 1600w" alt="" width="440" height="311"></figure></figure></div><p></p><p></p><p>This is what happens „at the moment“ (which not really is just a single moment or point in time) when you look at things to check their consistency.</p><p></p><p></p><p>Now, let’s zoom out. Look at the same things at different moments:</p><p></p><p></p><div class="wp-block-image"><figure class="aligncenter"><figure class="wp-image-2569"><img loading="lazy" src="https://ralfw.de/media/posts/126/DraggedImage-8.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://ralfw.de/media/posts/126/responsive/DraggedImage-8-xs.png 300w, https://ralfw.de/media/posts/126/responsive/DraggedImage-8-sm.png 480w, https://ralfw.de/media/posts/126/responsive/DraggedImage-8-md.png 768w, https://ralfw.de/media/posts/126/responsive/DraggedImage-8-lg.png 1024w, https://ralfw.de/media/posts/126/responsive/DraggedImage-8-xl.png 1360w, https://ralfw.de/media/posts/126/responsive/DraggedImage-8-2xl.png 1600w" alt="" width="453" height="170"></figure></figure></div><p></p><p></p><p>The blacked out period is a time where you did not look. You attention was elsewhere. Or maybe you just gave in to the urge to blink.</p><p></p><p></p><p>The shapes are consistent when you first looked at them and also when you looked at them again later. But between those points in time they have changed. The shapes evolved consistently.</p><p></p><p></p><p>That’s good, isn’t it. That’s what developers want. They like things to be changeable, but they also want things to always be consistent. Take a database for example:</p><p></p><p></p><ol><li>A record in an customer table</li><li>A record in an invoice table with a reference to a record in the customer table. There reference is the customer name. (Yeah, I know, bad idea. But let’s go with it because it’s easy to understand.)</li></ol><p></p><p></p><p>Consistency criteria: „An invoice record always needs to have a matching record in the customer table.“</p><p></p><p></p><p>Simple operations then would be:</p><p></p><p></p><ul><li>You add a customer with name „Wayne“.</li><li>You add an invoice and reference the new customer by her name „Wayne“.</li><li>You delete an invoice for another customer named „Kent“.</li></ul><p></p><p></p><p>But what if customer „Wayne“ changed her name to „Flynn“ because she’s gotten married? Her name is in use in two places: in her customer record and in her invoice.</p><p></p><p></p><p>Right now there is an inconsistency between the customer as a person and here records in the database.😱 Yes, inconsistencies happen in the real world!</p><p></p><p></p><p>To correct this, the database has to be adjusted. But how? Changing the name first in the customer record would create an inconsistency with the invoice; the invoice would get orphaned. Changing the name first in the invoice, though, would also create an inconsistency.</p><p></p><p></p><p>Either way, doing both changes sequentially would lead to a (short) period of inconsistency:</p><p></p><p></p><div class="wp-block-image"><figure class="aligncenter"><figure class="wp-image-2556"><img loading="lazy" src="https://ralfw.de/media/posts/126/DraggedImage-9.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://ralfw.de/media/posts/126/responsive/DraggedImage-9-xs.png 300w, https://ralfw.de/media/posts/126/responsive/DraggedImage-9-sm.png 480w, https://ralfw.de/media/posts/126/responsive/DraggedImage-9-md.png 768w, https://ralfw.de/media/posts/126/responsive/DraggedImage-9-lg.png 1024w, https://ralfw.de/media/posts/126/responsive/DraggedImage-9-xl.png 1360w, https://ralfw.de/media/posts/126/responsive/DraggedImage-9-2xl.png 1600w" alt="" width="594" height="282"></figure></figure></div><p></p><p></p><p>That’s where ACID transactions come in. With such a transaction both changes would still be done sequentially - but for an observer there would be no period of inconsistency. Afterwards either both records contain the new name „Flynn“ (success) or still the name „Wayne“ (failure).</p><p></p><p></p><div class="wp-block-image"><figure class="aligncenter"><figure class="wp-image-2566"><img loading="lazy" src="https://ralfw.de/media/posts/126/DraggedImage-10.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://ralfw.de/media/posts/126/responsive/DraggedImage-10-xs.png 300w, https://ralfw.de/media/posts/126/responsive/DraggedImage-10-sm.png 480w, https://ralfw.de/media/posts/126/responsive/DraggedImage-10-md.png 768w, https://ralfw.de/media/posts/126/responsive/DraggedImage-10-lg.png 1024w, https://ralfw.de/media/posts/126/responsive/DraggedImage-10-xl.png 1360w, https://ralfw.de/media/posts/126/responsive/DraggedImage-10-2xl.png 1600w" alt="" width="592" height="322"></figure></figure></div><p></p><p></p><p>Keeping-up consistency always takes time. It takes time and it’s a matter of the observer.</p><p></p><p></p><p>So, please note: Even though the database is now guaranteed to always be in a consistent state due to ACID transactions <em>the overall system</em>, the world including the customer and the database, still only is eventually consistent. When the customer is getting married and signs the marital contract with the change of her name this information is not automatically or immediately sent to the company keeping the records in a database. Until the customer notifies the company the world is inconsistent. And it might be for quite some time, maybe years or forever. Is that bad? Is eventual consistency bad? No. Or more precisely: It just depends on the observer.</p><p></p><p></p><p>For a sales person inside the company looking at both records all’s well even though the customer already has changed her name. It’s well because the sales person does not know about the name change and does not care as long as he’s interested in monthly revenues. Things would change, however, should the sales person send out some sales brochure via snail mail with the now unknowingly wrong name – and the brochure cannot be delivered because the name on the customer’s post box has been already updated.</p><p></p><p></p><h3>Eventual consistency can only be masked</h3><p></p><p></p><p>As you might have realized: eventual consistency is everywhere. It cannot be avoided, it can only be masked or hidden.</p><p></p><p></p><ul><li>The customer’s real name and the name in the database were inconsistent for some time - until someone started the ACID transaction to change her name in the database.</li><li>The customer’s name in her record and in the invoice record where inconsistent for some time - until the second record also was changed.</li></ul><p></p><p></p><p>The physical inertia of objects in the real world is mirrored by an informational inertia of data structures in software at runtime. Information takes time to travel from one place to another: from customer to company, from one record to the other.</p><p></p><p></p><p>When you look at the colored shapes of the above example again and „don’t blink“, you can see how it takes time to switch them from one consistent state into another:</p><p></p><p></p><div class="wp-block-image"><figure class="aligncenter"><figure class="wp-image-2560"><img loading="lazy" src="https://ralfw.de/media/posts/126/DraggedImage-11.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://ralfw.de/media/posts/126/responsive/DraggedImage-11-xs.png 300w, https://ralfw.de/media/posts/126/responsive/DraggedImage-11-sm.png 480w, https://ralfw.de/media/posts/126/responsive/DraggedImage-11-md.png 768w, https://ralfw.de/media/posts/126/responsive/DraggedImage-11-lg.png 1024w, https://ralfw.de/media/posts/126/responsive/DraggedImage-11-xl.png 1360w, https://ralfw.de/media/posts/126/responsive/DraggedImage-11-2xl.png 1600w" alt="" width="508" height="170"></figure></figure></div><p></p><p></p><p>However, for some reason software development has decided it does not want to deal with this if possible by any means. Software development does not want to suffer from EC. Mere mortal developers should be shielded from such complexity of life. And this attitude worked. For a long time. For so long, even, that many have settled on the belief that IC is the natural state of the world or at least of data management inside of programs.</p><p></p><p></p><p>But it’s an illusion. IC is an illusion with a growing price tag. And the price is paid as a loss in evolvability and a decrease in productivity.</p><p></p><p></p><h2>What are your consistency requirements?</h2><p></p><p></p><p>EC literally is ubiquitous. So ubiquitous that you probably don’t even realize it most of the time and don’t bother. You just accept it as a part of life and have developed ways to deal with it. You’ve developed nuanced context dependent inconsistency tolerance even in the typically quite sensitive area of personal finances.</p><p></p><p></p><p>Exhibit 1: Amazon purchase. Occasionally I buy a used book via Amazon from some second hand book store in the US. During the order process it’s perfectly fine for me to already pay for the book - even though it might take weeks until it’s delivered to me by postal mail.</p><p></p><p></p><p>This creates an inconsistency between my bank account and my book shelf. The consistency rule is: „The total value of books on my shelf and money in my account stays the same.“ (For the moment I’m neglecting any other purchases, shipping fees, or any money I earn.) The books on my shelf currently might be worth some 5.000€ and on my bank account there might be 2.000€, which is a total value of 7.000€.</p><p></p><p></p><p>When I order a book from the US costing 30€ amazon gets that money immediately leaving me with just 1.970€ in my bank account and no increase in value of my book shelf. Then, maybe three weeks later, when the book arrives and I put it on my shelf the value of my shelf increases to 5.030€.</p><p></p><p></p><p>Eventually consistency got restored: 1.970€+5.030€=7.000€. But for three weeks I was forced to live with inconsistency. Was that painful? No. That’s perfectly normal.</p><p></p><p></p><p>Exhibit 2: The same is happening every day at the supermarket. Whenever you get your purchase totalled at the cash register and pay, there are maybe 20 seconds of inconsistency. This time it’s the vendor suffering it: You already have the purchase stowed away in your bag, but you haven’t paid yet. The supermarket has lost value to you but hasn’t received the money for it; you have received value, but also still have your money.</p><p></p><p></p><p>Eventually the transaction will be finished and everybody is happy. But there is a 20 second window of uncertainty and inconsistency… Is that bad? No. That’s perfectly normal.</p><p></p><p></p><p>These situations of eventual consistency are so normal we don’t even think about them. Consistency might even seem to be immediate - but it’s not. And we don’t really care.</p><p></p><p></p><p>So, why do we care so much in software development?</p><p></p><p></p><p>My guess is, because often times we don’t really think things through. And we take the illusion of IC for granted while running a synchronous monolith talking to an RDBMS with ACID transactions.</p><p></p><p></p><p>And that’s fine - as long as we don’t complain about hard to change growing webs of data.</p><p></p><p></p><p>What would it mean to think consistency needs through? If we could gain more evolvability by making our data more malleable, but the price was EC, maybe it would still be worthwhile.</p><p></p><p></p><h3>Consistency is a matter of latency</h3><p></p><p></p><p>Think about the supermarket checkout scenario: Why doesn’t the supermarket care about the temporary inconsistency? Because it’s short lived. Eventual consistency takes only some 20 seconds.</p><p></p><p></p><p>To create consistency always takes time. Look at this image again:</p><p></p><p></p><div class="wp-block-image"><figure class="aligncenter"><figure class="wp-image-2565"><img loading="lazy" src="https://ralfw.de/media/posts/126/DraggedImage-12.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://ralfw.de/media/posts/126/responsive/DraggedImage-12-xs.png 300w, https://ralfw.de/media/posts/126/responsive/DraggedImage-12-sm.png 480w, https://ralfw.de/media/posts/126/responsive/DraggedImage-12-md.png 768w, https://ralfw.de/media/posts/126/responsive/DraggedImage-12-lg.png 1024w, https://ralfw.de/media/posts/126/responsive/DraggedImage-12-xl.png 1360w, https://ralfw.de/media/posts/126/responsive/DraggedImage-12-2xl.png 1600w" alt="" width="529" height="255"></figure></figure></div><p></p><p></p><p>The latency between t2 and t3 is what matters to software developers; the latency between t1 and t2 might be of concern for the sales department. The bigger it is, the more you’re concerned. But for every EC scenario in the real world you have an idea of what’s an acceptable latency and what not.</p><p></p><p></p><p>For the Amazon purchase I’m fine with a couple of weeks or even months if the book price is below maybe 100€. But for an item costing 500€ I would not want to wait for more than a couple of days or so, if I had to pay for it in advance.</p><p></p><p></p><p>The supermarket is fine with 20 seconds of inconsistency, but it would not be that happy, if you wanted to start a tab and only pay every couple of months.</p><p></p><p></p><p>What makes latency relevant in these cases is trust. Does an observer trust the spreading of consistency to eventually finish reliably?</p><p></p><p></p><p>If the supermarket trusted its customers more, it could accept a higher latency and offer a tab to write up purchases. If I trusted the seller of an item more I would be fine with paying 500€ or more in advance.</p><p></p><p></p><p>And trust - or the lack of it - is what makes developer cringe with regard to EC. They think about all that could possibly go wrong while consistency is spreading; and should something happen then they’d have to deal with an inconsistent state. Of course the higher the latency the higher the risk that something goes wrong. No, thank you!</p><p></p><p></p><h3>Consistency is a matter of frequency</h3><p></p><p></p><p>But maybe trust is warranted. Maybe things don’t go wrong while consistency ripples through a system even if it takes a while.</p><p></p><p></p><p>In some situations that’s all what’s needed. But in others it’s not. Take the supermarket as an example again:</p><p></p><p></p><p>The supermarket trusts all its customers and allows them to pay later. The immediate gain is a speedier checkout which means more throughput for the cash registers. Great! Take away: <a href="https://www.amazon.com/Speed-Trust-Thing-Changes-Everything/dp/1847392717" target="_blank" rel="noopener noreferrer">Trust is speed</a>!</p><p></p><p></p><p>The downside to this, though, would be less money in the bank for a longer while. Maybe the supermarket only bills its customers every month. That means it’s lacking the money for all the purchases during that period. In effect it’s granting its customers a loan.</p><p></p><p></p><p>That money is not available for buying new goods to sell.</p><p></p><p></p><p>Trust is not the only thing needed to allow EC. What’s also needed is availability. Consistency is a property that needs to be available at certain times. The question is: when?</p><p></p><p></p><p>What’s the frequency of consistency checks? If consistency is checked only once a day than a 20 second inconsistency is of no concern. At the end of the day the money in the cash register and the sold goods are balanced out.</p><p></p><p></p><div class="wp-block-image"><figure class="aligncenter"><figure class="wp-image-2562"><img loading="lazy" src="https://ralfw.de/media/posts/126/DraggedImage-13.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://ralfw.de/media/posts/126/responsive/DraggedImage-13-xs.png 300w, https://ralfw.de/media/posts/126/responsive/DraggedImage-13-sm.png 480w, https://ralfw.de/media/posts/126/responsive/DraggedImage-13-md.png 768w, https://ralfw.de/media/posts/126/responsive/DraggedImage-13-lg.png 1024w, https://ralfw.de/media/posts/126/responsive/DraggedImage-13-xl.png 1360w, https://ralfw.de/media/posts/126/responsive/DraggedImage-13-2xl.png 1600w" alt="" width="558" height="202"></figure></figure></div><p></p><p></p><p>But if customers may pay at the end of the month and consistency is checked every day or even every week then inconsistency would be noted. Not good! In this case it would manifest itself in the form of lack of money for buying new goods.</p><p></p><p></p><p>If the observation frequency is so high that it’s likely for an observation to fall right between two consistent states, the observer will see inconsistency. That means: lower frequency and lower latency means less inconsistencies to stumble across.</p><p></p><p></p><div class="wp-block-image"><figure class="aligncenter"><figure class="wp-image-2570"><img loading="lazy" src="https://ralfw.de/media/posts/126/DraggedImage-14.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://ralfw.de/media/posts/126/responsive/DraggedImage-14-xs.png 300w, https://ralfw.de/media/posts/126/responsive/DraggedImage-14-sm.png 480w, https://ralfw.de/media/posts/126/responsive/DraggedImage-14-md.png 768w, https://ralfw.de/media/posts/126/responsive/DraggedImage-14-lg.png 1024w, https://ralfw.de/media/posts/126/responsive/DraggedImage-14-xl.png 1360w, https://ralfw.de/media/posts/126/responsive/DraggedImage-14-2xl.png 1600w" alt="" width="564" height="212"></figure></figure></div><p></p><p></p><p>That’s what’s bothering developers, too. Even if they’d manage to spread consistency reliably, they fear they’d observe inconsistent states in between. They fear there could be an observer checking up on some data while it’s in the process of switching from one consistent state to another. That’s what the the sad faces in the previous image stand for. Think of the customer record already having been changed, but not the invoice. During the latency period of the spreading name change it would seem there was no invoice for the customer. That must not happen, right?!</p><p></p><p></p><h3>Inconsistency is a matter of probability</h3><p></p><p></p><p>How long does it take to eventually establish consistency? And how often does someone look? That’s the two questions developers are faced with when evaluating the EC-option. And that’s what they don’t really want to think about and decide upon – because if they get it wrong, then it’s gonna be their fault when inconsistencies show up. Better to not think about it and use some synchronous way of applying changes or better even ACID transactions.</p><p></p><p></p><p>Maybe, though, just maybe it would be worthwhile pondering these questions? Because there is a prize to be won: higher longterm productivity.</p><p></p><p></p><p>In my experience developers are people who are always considering the possible and not the probable. They are like preppers: they prepare for the worst. And they like to cover their asses because blame can hit them from all sides at any time.</p><p></p><p></p><p>Let’s make thought experiment. Just for a moment let’s look closer at consistency requirements:</p><p></p><p></p><p>The mentioned company has in its database 5.000 customers with 100 invoices each on average. That makes 500.000 invoices in total. The database is growing by 50 customers every week. At the end of the year it will be 7.600 customers with some 750.000 invoices. And so on.</p><p></p><p></p><p>Now let’s assume a customer name change happens once every 100 customers. That would mean 50 name changes so far and 26 in the coming year.</p><p></p><p></p><p>With 260 working days the likelihood of one of the name changes happening on a given day is 26/260=1/10=0.1.</p><p></p><p></p><p>So much for the real world. On the technical side a name change takes 1 second on average to ripple through from customer record to all invoices. After a user presses ENTER in the name change dialog another user could open the customers invoice list one second later and see all the invoices still (or again) linked to it. (I know, nobody really would link invoices to customers by name. It’s just for the simplicity of the example.)</p><p></p><p></p><p>However, should another user open the invoice list less than a second later she might be wondering why some or all of the invoices are missing. That’s a possibility in this EC scenario without ACID transactions.</p><p></p><p></p><p>Now my question is: How probable is this?</p><p></p><p></p><p>If a name change has a probability of 0.1 per day then its probability for a certain second between 9:00 and 17:00 is 0.1x1/28.800=0,000003472=3,5x10^-6.</p><p></p><p></p><p>Hm… that’s a pretty small probability, isn’t it?</p><p></p><p></p><p>But wait, there’s more. Even if there is just a 3,5 in a million chance of a name change happening just this second with a 1000ms inconsistency window, that is only relevant if somebody was actually looking.</p><p></p><p></p><p>If the invoices of every customer were listed once every day, then that would be 7.600 per day at the end of the year with a probability of 7.600/28.800=0,26 for the invoices of a certain customer to be looked at in a certain second each day.</p><p></p><p></p><p>Now for the really interesting question: How likely is it that the invoices of the customer with a name change are actually retrieved while the name change is going on so that an inconsistency becomes visible? 0,26x3,5x10^6=0,00000091=9,1x10^-7.</p><p></p><p></p><p>Wow! That’s a small probability, isn’t it? It’s less than 1 in a million.</p><p></p><p></p><p>Think about how much you care about 1 in a million probabilities. The risk to die in a car traffic accident in Germany for example is 0,00004125=4,1x10-5 or at least 10 times higher - and still Germans drive their cars, ride bikes in car traffic, and cross a street etc.</p><p></p><p></p><p>I think you get what I mean: Just because something is possible – a temporary inconsistency - does not mean it’s probable or even relevant.</p><p></p><p></p><p>Hence the fear of EC to me largely is irrational. At least as long as no closer look has been taken at the so much feared scenarios.</p><p></p><p></p><p>Please get me right: I’m not saying consistency was not important. To the contrary! Also I’m not saying IC wasn’t helpful or even cheaper than dealing with EC sometimes.</p><p></p><p></p><p>What I’m saying is: Let’s relax and open our minds. Maybe EC could be an option (much?) more often with all its benefits, than developers dare to imagine.</p><p></p><p></p><h3>What to do in case of an inconsistency?</h3><p></p><p></p><p>In software development consistency is about keeping the same data in two (or more places). It might be exactly the same data or a transformation of data.</p><p></p><p></p><p>If for example customer data is kept in two locations (e.g. in a database for book keeping and in another database for sales, or on a mobile device and in an inhouse database, or in a database and on a screen), then data changes in one location will take time to travel to the other location(s). During that time an inconsistency exists.</p><p></p><p></p><p>Or if for example invoice data is aggregated into revenue reports then that will take some time. During that time there will and afterwards depending on the update frequency of the reports there might exist an inconsistency.</p><p></p><p></p><p>And one such inconsistency might spawn another: If you and me are both viewing the same invoice record we might issue two different commands: you add an item to the invoice and I delete the invoice. Without further measures this will lead to an inconsistent state in an event store. In this case inconsistency #1 is your screen not showing the new state of affairs in the event store where a deletion has been recorded; inconsistency #2 then is your changes getting stored by adding another event. (Yes, with an event store you can store change to data that have been deleted. An event reporting a deletion is independent of an event reporting an update.)</p><p></p><p></p><p>What can be done about this? What can be done about this if application state is based on Event Sourcing?</p><p></p><p></p><p>Using a versioned event store might help to thwart the inconsistency in the first place: the events of your command might arrive first in the event store, cause its version to change, and then my events won’t be recorded because I’m expecting an older version of the event store. My client would have to update its view of the persistent state first which would give it the opportunity to re-evaluate the validity of executing my command. The same would be true for your client if my events would have reached the event store first.</p><p></p><p></p><p>But this is a very broad brush approach to consistency, I’d say, albeit one which is easy to understand and is trying to nip inconsistency in the bud.</p><p></p><p></p><p>Somewhat more fine grained it would be if there wasn’t just one version number but several for subsets of data; if you like call these subsets „aggregates“. But since „aggregate“ is a somewhat contentious term I’d rather speak of „consistency horizons“.</p><p></p><p></p><p>However what if an inconsistency arises despite such low level technical counter measures? The probability for that may be very, very low, but nevertheless it might happen.</p><p></p><p></p><p>Here are a couple of different responses to inconsistencies, I see:</p><p></p><p></p><ul><li>Maybe the inconsistency is only temporary. Then an observer could wait a bit and look again. The inconsistency could be gone.</li><li>Maybe the inconsistency can be resolved by the observer. The observer would issue compensating events or otherwise correct its view.</li><li>Maybe the inconsistency cannot automatically be resolved. Then the observer should flag it and notify some authority which/who can deliver compensation.</li></ul><p></p><p></p><p>You see, I don’t think, all’s lost just because there is some potential for noticeable inconsistencies in EC. We can deal with it on several levels – like we do in the real world.</p><p></p><p></p><h2>Summary</h2><p></p><p></p><p>You’re used to merge conflicts in Git; you’re of course trying to avoid them - but in the end they happen. Then somebody will resolve them manually. That’s frustrating, but inevitable, if you want to reap the benefits of Git. The possibility of inconsistencies does not drive you away from it. Accepting eventual consistency has turned out to be very useful and has „conquered the world“ of VCS.</p><p></p><p></p><p>I imagine this to become true for Event Sourcing, too. Yes, Event Sourcing requires a change of mindset; that won’t be easy for everyone. And it will lead to more situations with a potential for inconsistencies due to EC. But we can learn to accept that and deal with it constructively, because – as I believe – the benefits of Event Sourcing outweigh its drawbacks.</p><p></p><p></p><p>Maybe our approach to user interface design has to change, too? Maybe we need to let go of the certainty that pressing a command button will always lead to a consistent state immediately. Maybe we need to introduce ways for users to deal with rare inconsistencies themselves. Yes, we should not try to abstract EC away fully. Users are used to EC with regard to the real world; why not dis-illusion them about the world of software - because that will enable us to more easily evolve code for the sake of the users.</p><p></p><p></p><p>True, <a href="https://medium.com/@hugo.oliveira.rocha/what-they-dont-tell-you-about-event-sourcing-6afc23c69e9a" target="_blank" rel="noopener">it’s not all roses with Eventual Consistency and Event Sourcing</a>. But I view that as a challenge to look closer, to learn to deal with it. A paradigm change is always hard. It will take some time, it will take better technologies, and techniques and patterns. But we’ve come a long way from manually dealing with multiple threads to the actor model and abstractions like Erlang or Akka. Why not be optimistic and hope for the same to happen for Eventual Consistency and Event Sourcing? CQRS was just a start.</p><p></p><p></p><p>Let’s embrace Eventual Consistency for our benefit!</p><figure class="alignnone wp-image-2521"><img loading="lazy" src="https://ralfw.de/media/posts/126/redditlogo-150x150.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://ralfw.de/media/posts/126/responsive/redditlogo-150x150-xs.png 300w, https://ralfw.de/media/posts/126/responsive/redditlogo-150x150-sm.png 480w, https://ralfw.de/media/posts/126/responsive/redditlogo-150x150-md.png 768w, https://ralfw.de/media/posts/126/responsive/redditlogo-150x150-lg.png 1024w, https://ralfw.de/media/posts/126/responsive/redditlogo-150x150-xl.png 1360w, https://ralfw.de/media/posts/126/responsive/redditlogo-150x150-2xl.png 1600w" alt="" width="30" height="30"></figure> [<a href="https://www.reddit.com/r/softwarearchitecture/comments/bvpc4g/against_the_fear_of_eventual_consistency/" target="_blank" rel="noopener">If you like, let's discuss this on reddit...</a>]<p></p><p></p></div><footer class="wrapper post__footer"><p class="post__last-updated">This article was updated on 28.01.2021</p><ul class="post__tag"><li><a href="https://ralfw.de/tags/event-orientation/">Event-Orientation</a></li></ul><div class="post__share"></div></footer></article><nav class="post__nav"><div class="post__nav-inner"><div class="post__nav-prev"><svg width="1.041em" height="0.416em" aria-hidden="true"><use xlink:href="https://ralfw.de/assets/svg/svg-map.svg#arrow-prev"/></svg> <a href="https://ralfw.de/food-truck-architecture-its-all-about-events/" class="invert post__nav-link" rel="prev"><span>Previous</span> Food Truck Architecture - It’s all about events</a></div><div class="post__nav-next"><a href="https://ralfw.de/event-sourcing-for-constructivist-software/" class="invert post__nav-link" rel="next"><span>Next</span> Event Sourcing for Constructivist Software </a><svg width="1.041em" height="0.416em" aria-hidden="true"><use xlink:href="https://ralfw.de/assets/svg/svg-map.svg#arrow-next"/></svg></div></div></nav></main><footer class="footer"><div class="footer__copyright"><p>One Man Think Tank @ Nomad Nation OOD - Sofia, Bulgaria - <a href="../../../../../../imprint">Imprint</a> - <a href="../../../../../../data-privacy-policy">Data Privacy Policy</a></p></div><button class="footer__bttop js-footer__bttop" aria-label="Back to top"><svg><title>Back to top</title><use xlink:href="https://ralfw.de/assets/svg/svg-map.svg#toparrow"/></svg></button></footer></div><script>window.publiiThemeMenuConfig = {    
        mobileMenuMode: 'sidebar',
        animationSpeed: 300,
        submenuWidth: 'auto',
        doubleClickTime: 500,
        mobileMenuExpandableSubmenus: true, 
        relatedContainerForOverlayMenuSelector: '.top',
   };</script><script defer="defer" src="https://ralfw.de/assets/js/scripts.min.js?v=f4c4d35432d0e17d212f2fae4e0f8247"></script><script>var images = document.querySelectorAll('img[loading]');

        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script></body></html>