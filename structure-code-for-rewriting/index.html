<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Structure Code for Rewriting - One Man Think Tank</title><meta name="description" content="From a certain point on it becomes very tedious, frustrating, and expensive to change code in order to implement some new requirement. For a while clean coding and refactoring help - but in the end it’s undeniable: the existing code is more of a burden,&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://ralfw.github.io/homepage-ralfw-de/structure-code-for-rewriting/"><link rel="alternate" type="application/atom+xml" href="https://ralfw.github.io/homepage-ralfw-de/feed.xml"><link rel="alternate" type="application/json" href="https://ralfw.github.io/homepage-ralfw-de/feed.json"><meta property="og:title" content="Structure Code for Rewriting"><meta property="og:image" content="https://ralfw.github.io/homepage-ralfw-de/media/posts/109/bubbles-51675_640.png"><meta property="og:site_name" content="One Man Think Tank"><meta property="og:description" content="From a certain point on it becomes very tedious, frustrating, and expensive to change code in order to implement some new requirement. For a while clean coding and refactoring help - but in the end it’s undeniable: the existing code is more of a burden,&hellip;"><meta property="og:url" content="https://ralfw.github.io/homepage-ralfw-de/structure-code-for-rewriting/"><meta property="og:type" content="article"><link rel="shortcut icon" href="https://ralfw.github.io/homepage-ralfw-de/media/website/favicon.png" type="image/x-icon"><style>:root{--body-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--heading-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--logo-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--menu-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"}</style><link rel="stylesheet" href="https://ralfw.github.io/homepage-ralfw-de/assets/css/style.css?v=990e7ab6bf398e730fe544646c09fe50"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://ralfw.github.io/homepage-ralfw-de/structure-code-for-rewriting/"},"headline":"Structure Code for Rewriting","datePublished":"2018-06-25T11:02","dateModified":"2021-01-25T16:26","image":{"@type":"ImageObject","url":"https://ralfw.github.io/homepage-ralfw-de/media/posts/109/bubbles-51675_640.png","height":426,"width":640},"description":"From a certain point on it becomes very tedious, frustrating, and expensive to change code in order to implement some new requirement. For a while clean coding and refactoring help - but in the end it’s undeniable: the existing code is more of a burden,&hellip;","author":{"@type":"Person","name":"Ralf Westphal"},"publisher":{"@type":"Organization","name":"Ralf Westphal","logo":{"@type":"ImageObject","url":"https://ralfw.github.io/homepage-ralfw-de/media/website/logo-smaller.png","height":53,"width":250}}}</script></head><body><div class="site-container"><header class="top" id="js-header"><a class="logo" href="https://ralfw.github.io/homepage-ralfw-de/"><img src="https://ralfw.github.io/homepage-ralfw-de/media/website/logo-smaller.png" alt="One Man Think Tank"></a><nav class="navbar js-navbar"><button class="navbar__toggle js-toggle" aria-label="Menu" aria-haspopup="true" aria-expanded="false"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"><li><a href="https://ralfw.github.io/homepage-ralfw-de/focus/" target="_self">Focus</a></li><li><a href="https://ralfw.github.io/homepage-ralfw-de/approach/" target="_self">Approach</a></li><li class="has-submenu"><a href="https://ralfw.github.io/homepage-ralfw-de/trainings/" target="_self" aria-haspopup="true">Trainings</a><ul class="navbar__submenu level-2" aria-hidden="true"><li><a href="https://ralfw.github.io/homepage-ralfw-de/test-first-codierung/" target="_self">Test-first Codierung</a></li><li><a href="https://ralfw.github.io/homepage-ralfw-de/softwareentwurf-mit-flow-design/" target="_self">Softwareentwurf mit Flow-Design</a></li><li><a href="https://ralfw.github.io/homepage-ralfw-de/software-anforderungsanalyse-mit-slicing/" target="_self">Software Anforderungsanalyse mit Slicing</a></li></ul></li><li><a href="https://ralfw.github.io/homepage-ralfw-de/consulting/" target="_self">Consulting</a></li><li><a href="https://ralfw.github.io/homepage-ralfw-de/publications/" target="_self">Publications</a></li><li><a href="https://ralfw.github.io/homepage-ralfw-de/testimonials/" target="_self">Testimonials</a></li><li><a href="https://ralfw.github.io/homepage-ralfw-de/" target="_self">Blog</a></li><li class="has-submenu"><a href="https://ralfw.github.io/homepage-ralfw-de/about/" target="_self" aria-haspopup="true">About</a><ul class="navbar__submenu level-2" aria-hidden="true"><li><a href="https://ralfw.github.io/homepage-ralfw-de/imprint/" target="_self">Imprint</a></li><li><a href="https://ralfw.github.io/homepage-ralfw-de/data-privacy-policy-2/" target="_self">Privacy Policy</a></li></ul></li></ul></nav></header><main><article class="post"><div class="hero"><figure class="hero__image hero__image--overlay"><img src="https://ralfw.github.io/homepage-ralfw-de/media/posts/109/bubbles-51675_640.png" srcset="https://ralfw.github.io/homepage-ralfw-de/media/posts/109/responsive/bubbles-51675_640-xs.png 300w, https://ralfw.github.io/homepage-ralfw-de/media/posts/109/responsive/bubbles-51675_640-sm.png 480w, https://ralfw.github.io/homepage-ralfw-de/media/posts/109/responsive/bubbles-51675_640-md.png 768w, https://ralfw.github.io/homepage-ralfw-de/media/posts/109/responsive/bubbles-51675_640-lg.png 1024w, https://ralfw.github.io/homepage-ralfw-de/media/posts/109/responsive/bubbles-51675_640-xl.png 1360w, https://ralfw.github.io/homepage-ralfw-de/media/posts/109/responsive/bubbles-51675_640-2xl.png 1600w" sizes="(max-width: 1600px) 100vw, 1600px" loading="eager" height="426" width="640" alt=""></figure><header class="hero__content"><div class="wrapper"><div class="post__meta"><time datetime="2018-06-25T11:02">25.06.2018</time></div><h1>Structure Code for Rewriting</h1><div class="post__meta post__meta--author"><a href="https://ralfw.github.io/homepage-ralfw-de/authors/ralf-westphal/" class="feed__author invert">Ralf Westphal</a></div></div></header></div><div class="wrapper post__entry"><p>From a certain point on it becomes very tedious, frustrating, and expensive to change code in order to implement some new requirement. For a while clean coding and refactoring help - but in the end it’s undeniable: the existing code is more of a burden, a liability, than an asset.</p><p>This is not satisfying, but it’s how things are. It’s how nature is. Every organism grows old and eventually dies. Even mountains erode to oblivion. Why should software be any different?</p><p>Adaptability in nature does not come from highly flexible, everlasting organisms, but from their finiteness. Adaption over long timespans is only possible through death of the old and birth of the new.</p><p>Existing structures can only change (themselves) so much before they break or lose their identity.</p><p>I think software development should try to learn from that. We shouldn’t strive to create immortal instances of code. Why not plan code to have a certain life expectancy? Why not see rewrites as a natural part of software development?</p><p>Sure, it does not seem to be an option to just rewrite a software which was developed over the course of 20 years. Even if a rewrite would only take a fraction of the time it would not be feasible.</p><p>But what about smaller parts?</p><p>How much time would be ok for a rewrite? If you realised a part of the software has reached the end of its life because it has become too rigid, to calcified, too cryptic to adapt to new requirements, how much time would be acceptable for a rewrite? A couple of weeks or months? Probably not years.</p><p>Let’s assume, the birth of a new generation for this part of the code was allowed to take three months.</p><p>Then how large could such a part of code be to rewrite it pretty much from scratch? Let me try a quick estimate: A developer can maybe write 200 lines of production code per day on average. A team of 4 developers then produces 800 lines per day. In a 5 day week that would be 4000, in 12 weeks it would be 48000 lines of code. Or maybe that’s a bit optimistic, so let’s say, it’s maybe just 30000 lines of production code in three months.</p><p>Please note, such a rewrite would be very different from the original process of changing the code over the course of months and years. A three month rewrite can maybe replace three years of constant updates.</p><p>For a software of 300000 lines of code in total that would mean it should be split into 10 perishable parts. Let me call them <em>bubbles</em> for now, because bubbles start small, then grow, and eventually burst and are gone - to be replaced by new bubbles.</p><p>Of course it’s not about a specific number of lines per bubble; come up with a number you feel comfortable with. It’s about a paradigm: evolution.</p><p><strong>Instead of creating software as a kind of monolith with the clear fate of erosion, let’s create software as a sea of bubbles.</strong> Each bubble’s fate is to burst. But the big picture of a bubbly surface will live on - as long as requirements rain down on it.</p><p>Whether the focus of these bubbles is technical or functional, is up to you. The goal is easy rewrite. And that should be very motivating: It means a codebase does not just grow old and makes programming a chore. No, there is always some fun rewriting going on. The greenfield is always near. That sure will keep a team’s spirit high - and opens up opportunities to get new people and/or new technologies and/or fresh ideas on board.</p><p>With bubbles there are now two levels on which software exists, i.e. is born, grows, changes, and eventually dies:</p><ul><li>Bubbles are comparatively short lived, e.g. months to years. Once they reach old age they are rewritten in a fraction of their lifetime and then die.</li><li>The whole of the software consisting of bubbles - maybe I should call it <em>foam</em> - has a long lifetime, e.g. years or even decades. Its bubbles come and go without affecting the overall identity of the software. Or should I say the foam emerges from a constant fireworks of bubbles?</li></ul><p>Sure, in the end the whole which all bubbles constitute like a standing wave will grow old and die, too. But that point hopefully lies further in the future than with a monolith. It’s a matter of how the macro structure of all bubbles is managed.</p><p>How can this be achieved? In the end, I guess, this only works with distribution. Bubbles have to run in their own processes to allow for maximum flexibility during rewrite. A (micro) service oriented architecture will be necessary.</p><p>That said I think structuring code for rewriting can and should start earlier. First and foremost it’s a matter of mindset. And that mindset can be grown by cutting up a monolith into libraries, packets, components first. It’s a valuable exercise to modularise your code first without distribution. You’ll gain a new understanding of your code when you look at it from the perspective of rewriting. It takes time to get used to <em>thinking in bubbles</em>.</p><p>Image source: <a href="https://pixabay.com/de/blasen-blase-wasser-makro-tropfen-51675/" target="_blank" rel="noopener">pixabay</a></p></div><footer class="wrapper post__footer"><p class="post__last-updated">This article was updated on 25.01.2021</p><ul class="post__tag"><li><a href="https://ralfw.github.io/homepage-ralfw-de/tags/clean-code/">Clean Code</a></li><li><a href="https://ralfw.github.io/homepage-ralfw-de/tags/high-value-team/">High Value Team</a></li></ul><div class="post__share"></div></footer></article><nav class="post__nav"><div class="post__nav-inner"><div class="post__nav-prev"><svg width="1.041em" height="0.416em" aria-hidden="true"><use xlink:href="https://ralfw.github.io/homepage-ralfw-de/assets/svg/svg-map.svg#arrow-prev"/></svg> <a href="https://ralfw.github.io/homepage-ralfw-de/steering-software-development-with-priorities-instead-of-deadlines/" class="invert post__nav-link" rel="prev"><span>Previous</span> Steering Software Development with Priorities Instead of Deadlines</a></div><div class="post__nav-next"><a href="https://ralfw.github.io/homepage-ralfw-de/die-dreifaltigkeit-der-fuehrung/" class="invert post__nav-link" rel="next"><span>Next</span> Die Dreifaltigkeit der Führung </a><svg width="1.041em" height="0.416em" aria-hidden="true"><use xlink:href="https://ralfw.github.io/homepage-ralfw-de/assets/svg/svg-map.svg#arrow-next"/></svg></div></div></nav></main><footer class="footer"><div class="footer__copyright"><p>One Man Think Tank EOOD - Sofia, Bulgaria - <a href="../../../../../../imprint">Imprint</a> - <a href="../../../../../../data-privacy-policy">Data Privacy Policy</a></p></div><button class="footer__bttop js-footer__bttop" aria-label="Back to top"><svg><title>Back to top</title><use xlink:href="https://ralfw.github.io/homepage-ralfw-de/assets/svg/svg-map.svg#toparrow"/></svg></button></footer></div><script>window.publiiThemeMenuConfig = {    
        mobileMenuMode: 'sidebar',
        animationSpeed: 300,
        submenuWidth: 'auto',
        doubleClickTime: 500,
        mobileMenuExpandableSubmenus: true, 
        relatedContainerForOverlayMenuSelector: '.top',
   };</script><script defer="defer" src="https://ralfw.github.io/homepage-ralfw-de/assets/js/scripts.min.js?v=f4c4d35432d0e17d212f2fae4e0f8247"></script><script>var images = document.querySelectorAll('img[loading]');

        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script></body></html>