<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>All together now - Schrittweise abstrahieren - One Man Think Tank</title><meta name="description" content="Aggregation, Destillation und Integration sind alle wertvoll fÃ¼r die Softwareentwicklung. Es ging mir bei der Differenzierung im vorherigen Artikel also nicht darum, die eine oder andere Abstraktion herabzusetzen. Allerdings liegt mir am Herzen, dass tatsÃ¤chlich alle Abstraktionsarten benutzt werden und zwar in einer mÃ¶glichst hilfreichen&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://ralfw.de/all-together-now-schrittweise-abstrahieren/"><link rel="alternate" type="application/atom+xml" href="https://ralfw.de/feed.xml"><link rel="alternate" type="application/json" href="https://ralfw.de/feed.json"><meta property="og:title" content="All together now - Schrittweise abstrahieren"><meta property="og:image" content="https://ralfw.de/media/posts/100/1522317916.png"><meta property="og:site_name" content="One Man Think Tank"><meta property="og:description" content="Aggregation, Destillation und Integration sind alle wertvoll fÃ¼r die Softwareentwicklung. Es ging mir bei der Differenzierung im vorherigen Artikel also nicht darum, die eine oder andere Abstraktion herabzusetzen. Allerdings liegt mir am Herzen, dass tatsÃ¤chlich alle Abstraktionsarten benutzt werden und zwar in einer mÃ¶glichst hilfreichen&hellip;"><meta property="og:url" content="https://ralfw.de/all-together-now-schrittweise-abstrahieren/"><meta property="og:type" content="article"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@ralfw"><meta name="twitter:title" content="All together now - Schrittweise abstrahieren"><meta name="twitter:description" content="Aggregation, Destillation und Integration sind alle wertvoll fÃ¼r die Softwareentwicklung. Es ging mir bei der Differenzierung im vorherigen Artikel also nicht darum, die eine oder andere Abstraktion herabzusetzen. Allerdings liegt mir am Herzen, dass tatsÃ¤chlich alle Abstraktionsarten benutzt werden und zwar in einer mÃ¶glichst hilfreichen&hellip;"><meta name="twitter:image" content="https://ralfw.de/media/posts/100/1522317916.png"><link rel="shortcut icon" href="https://ralfw.de/media/website/favicon.png" type="image/x-icon"><style>:root{--body-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--heading-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--logo-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--menu-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"}</style><link rel="stylesheet" href="https://ralfw.de/assets/css/style.css?v=70c495896d35fb7ee94e0c9d9b4f04e7"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://ralfw.de/all-together-now-schrittweise-abstrahieren/"},"headline":"All together now - Schrittweise abstrahieren","datePublished":"2018-04-05T11:33","dateModified":"2021-01-29T16:07","image":{"@type":"ImageObject","url":"https://ralfw.de/media/posts/100/1522317916.png","height":704,"width":1682},"description":"Aggregation, Destillation und Integration sind alle wertvoll fÃ¼r die Softwareentwicklung. Es ging mir bei der Differenzierung im vorherigen Artikel also nicht darum, die eine oder andere Abstraktion herabzusetzen. Allerdings liegt mir am Herzen, dass tatsÃ¤chlich alle Abstraktionsarten benutzt werden und zwar in einer mÃ¶glichst hilfreichen&hellip;","author":{"@type":"Person","name":"Ralf Westphal"},"publisher":{"@type":"Organization","name":"Ralf Westphal","logo":{"@type":"ImageObject","url":"https://ralfw.de/media/website/logo-smaller.png","height":53,"width":250}}}</script></head><body><div class="site-container"><header class="top" id="js-header"><a class="logo" href="https://ralfw.de/"><img src="https://ralfw.de/media/website/logo-smaller.png" alt="One Man Think Tank"></a><nav class="navbar js-navbar"><button class="navbar__toggle js-toggle" aria-label="Menu" aria-haspopup="true" aria-expanded="false"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"><li><a href="https://ralfw.de/focus/" target="_self">Focus</a></li><li><a href="https://ralfw.de/approach/" target="_self">Approach</a></li><li class="has-submenu"><a href="https://ralfw.de/trainings/" target="_self" aria-haspopup="true">Trainings</a><ul class="navbar__submenu level-2" aria-hidden="true"><li><a href="https://ralfw.de/test-first-codierung/" target="_self">Test-first CodierungğŸ‡©ğŸ‡ª</a></li><li><a href="https://ralfw.de/softwareentwurf-mit-flow-design/" target="_self">Softwareentwurf mit Flow-DesignğŸ‡©ğŸ‡ª</a></li><li><a href="https://ralfw.de/software-anforderungsanalyse-mit-slicing/" target="_self">Software Anforderungsanalyse mit SlicingğŸ‡©ğŸ‡ª</a></li></ul></li><li><a href="https://ralfw.de/consulting/" target="_self">Consulting</a></li><li><a href="https://ralfw.de/publications/" target="_self">Publications</a></li><li><a href="https://ralfw.de/testimonials/" target="_self">Testimonials</a></li><li class="has-submenu"><a href="https://ralfw.de/" target="_self" aria-haspopup="true">BlogsğŸ‡©ğŸ‡ªğŸ‡¬ğŸ‡§</a><ul class="navbar__submenu level-2" aria-hidden="true"><li><a href="https://ralfw.de/" target="_self">2015.. ğŸ‡©ğŸ‡ªğŸ‡¬ğŸ‡§</a></li><li><a href="https://blog.ralfw.de/" target="_blank">ğŸŒ2007..2015ğŸ‡©ğŸ‡ª</a></li><li><a href="http://geekswithblogs.net/theArchitectsNapkin/Default.aspx" target="_blank">ğŸŒ2008..2015ğŸ‡¬ğŸ‡§</a></li><li><a href="https://weblogs.asp.net/ralfw" target="_blank">ğŸŒ2003..2010ğŸ‡¬ğŸ‡§</a></li><li><span class="is-separator">â”€â”€â”€â”€â”€â”€â”€â”€â”€</span></li><li><a href="http://soziokratie.ralfw.de/" target="_blank">ğŸŒZur SoziokratieğŸ‡©ğŸ‡ª</a></li><li><a href="https://medium.com/gedankliche-umtriebe" target="_blank">ğŸŒGedankliche UmtriebeğŸ‡©ğŸ‡ª</a></li><li><a href="https://medium.com/personal-flow" target="_blank">ğŸŒPersonal FlowğŸ‡©ğŸ‡ª</a></li></ul></li><li><a href="https://ralfw.de/about/" target="_self">About</a></li></ul></nav></header><main><article class="post"><div class="hero"><figure class="hero__image hero__image--overlay"><img src="https://ralfw.de/media/posts/100/1522317916.png" srcset="https://ralfw.de/media/posts/100/responsive/1522317916-xs.png 300w, https://ralfw.de/media/posts/100/responsive/1522317916-sm.png 480w, https://ralfw.de/media/posts/100/responsive/1522317916-md.png 768w, https://ralfw.de/media/posts/100/responsive/1522317916-lg.png 1024w, https://ralfw.de/media/posts/100/responsive/1522317916-xl.png 1360w, https://ralfw.de/media/posts/100/responsive/1522317916-2xl.png 1600w" sizes="(max-width: 1600px) 100vw, 1600px" loading="eager" height="704" width="1682" alt=""></figure><header class="hero__content"><div class="wrapper"><div class="post__meta"><time datetime="2018-04-05T11:33">05.04.2018</time></div><h1>All together now - Schrittweise abstrahieren</h1><div class="post__meta post__meta--author"><a href="https://ralfw.de/authors/ralf-westphal/" class="feed__author invert">Ralf Westphal</a></div></div></header></div><div class="wrapper post__entry"><p>Aggregation, Destillation und Integration sind alle wertvoll fÃ¼r die Softwareentwicklung. Es ging mir <a href="https://ralfw.de/bequeme-abstraktion-ganz-konkret/">bei der Differenzierung im vorherigen Artikel</a> also nicht darum, die eine oder andere Abstraktion herabzusetzen. Allerdings liegt mir am Herzen, dass tatsÃ¤chlich alle Abstraktionsarten benutzt werden und zwar in einer mÃ¶glichst hilfreichen Weise.</p><p>Aus dem Gesagten sollte klar geworden sein, dass das nicht der Fall ist, solange erstens die Integration keinen gleichberechtigten Platz neben Aggregation und Destillation bekommt. Und zweitens gehÃ¶rt die Integration an den Anfang der Softwareentwicklung - nicht weil sie â€besserâ€œ oder â€wichtigerâ€œ wÃ¤re, sondern weil schlicht nur fÃ¼r sie am Anfang Ã¼berhaupt Material vorhanden ist.</p><p>Wer Softwareentwicklung startet mit der Suche nach Aggregaten oder gar Destillaten, arbeitet mit leeren HÃ¤nden. Es fehlt eine Grundmenge, aus der in dieser Weise abstrahiert werden kÃ¶nnte. Das Ergebnis: vorzeitige Abstraktion als Spezialfall der vorzeitigen Optimierung.</p><blockquote><p>â€[P]remature optimization is the root of all evil.â€œ, Donald Knuth</p></blockquote><p>Klassen und Interfaces am Anfang der Softwareentwicklung halte ich aus diesem Grund fÃ¼r einen Irrweg. Mit ihnen zu beginnen bedeutet, sich der Spekulation hinzugeben und stellt eine Einladung an die Verkrustung dar.</p><p>An einem Beispiel mÃ¶chte ich meine Sichtweise nun konkret erklÃ¤ren. Ausgangspunkt sind folgenden Anforderungen. Sie sind notwendig sehr einfach, doch das tut dem Thema keinen Abbruch. Bei umfangreicheren Anforderungen kann es nur umso wichtiger sein, sauber mit Abstraktionen umzugehen.</p><blockquote><p>Entwickle eine Anwendung, die die durchschnittliche Anzahl der Worte ab 3 Zeichen LÃ¤nge pro Zeile in einer Textdatei bestimmt. Worte sind dabei Ketten von non-whitespace Zeichen und ohne Ã¼bliche Sonderzeichen. Die Textdatei wird der Anwendung bei Start auf der Kommandozeile mitgeteilt.</p></blockquote><p>Was wÃ¼rde die gemeine Objektorientierung hier jetzt fÃ¼r Abstraktionen entdecken? Ich habe diese Art der Spekulation inzwischen verloren. Deshalb will ich mich daran gar nicht mehr versuchen.</p><h2>Anwendungen als Integrationen von Logik</h2><p>Es sollte offensichtlich sein, dass Anwendungen selbst Abstraktionen sind. Sie stellen Integrationen dar. In ihnen sind komplementÃ¤re FunktionalitÃ¤ten zu einem Ganzen verdrahtet, das dem Benutzer das Leben einfacher macht. In diesem Fall muss er sich nicht mit den Details der Textbeschaffung, Wortbestimmung und WortzÃ¤hlung sowie Durchschnittsberechnung befassen. Software ist insofern ein Werkzeug wie eine Waschmaschine oder ein RasenmÃ¤her, das sich Ã¼ber eine Benutzerschnittstelle bedienen lÃ¤sst.</p><p>FÃ¼r eine Integration stellt sich die Frage, welche Teile von ihr zusammengefasst werden. Darauf gibt es zwei Antworten. Die triviale lautet: Anwendungen integrieren viele verschiedene Logik-Anweisungen. Ein Beispiel:</p><figure class="alignnone size-large wp-image-1462"><img loading="lazy" src="https://ralfw.de/media/posts/100/Bildschirmfoto-2018-04-05-um-11.08.37-1024x357.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.08.37-1024x357-xs.png 300w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.08.37-1024x357-sm.png 480w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.08.37-1024x357-md.png 768w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.08.37-1024x357-lg.png 1024w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.08.37-1024x357-xl.png 1360w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.08.37-1024x357-2xl.png 1600w" alt="" width="720" height="251"></figure><p>Die entscheidenden Zeilen sind die von 12 bis 24. Sie enthalten die Logik, die das gewÃ¼nschte Verhalten herstellt. Die Anwendung abstrahiert von diesen Details indem sie das Verhalten Ã¼ber <code>textstats.exe</code> als Ganzes zugÃ¤nglich macht.</p><p>Dass hier eine Funktion <code>Main()</code> nÃ¶tig wird (die sogar noch einer Klasse zugeordnet sein muss), ist eine vernachlÃ¤ssigbare Eigenheit der Sprache C#. Eigentlich geht es nur um die Logikanweisungen, die durch den Compiler zu einer ausfÃ¼hrbaren Einheit Ã¼bersetzt werden.</p><p>Software <em>ist</em> eine Abstraktion, die zunÃ¤chst keine weiteren Abstraktionen braucht. Die Bausteine, die sie integriert, sind die Logik-Anweisungen einer Programmiersprache.</p><p>So einfach kÃ¶nnte es sein mit der Abstraktion in der Softwareentwicklung â€“ wÃ¤re da nicht eine klitzekleine Schwierigkeit: Logik als Bausteine von Anwendungen lÃ¤sst sich nur sehr schwer bestimmen.</p><p>FÃ¼r das obige Problem mÃ¶gen Sie es einfach finden, die passenden Anweisungen zu finden. Doch schon wenn die Anforderungen etwas umfangreicher und/oder komplizierter werden, ist es damit vorbei.</p><p>Wir werden der Logik innerhalb einer Anwendung schlicht nicht Herr ohne weitere Abstraktionen. Software muss deshalb weitere <em>in sich haben</em>. Eine Anwendung muss abstraktere Bausteine integrieren als Logik-Anweisungen.</p><h2>Anwendungen als Integrationen von Funktionen</h2><p>Die erste Abstraktion <em>innerhalb</em> von Software sind nicht Klassen, wie es die Objektorientierung gern hÃ¤tte, sondern Funktionen. Wenn die Logik schwer handhabbar wird, dann bekommt man sie nicht mit Aggregaten in den Griff, sondern mit weiterer Integration.</p><p>DafÃ¼r gibt es drei GrÃ¼nde: Zum einen bietet die reine Logik keinen Stoff, aus dem Aggregate abstrahiert werden kÃ¶nnten. Aggregate, d.h. Module, fassen Funktionen (oder andere Module) zusammen. Reine Logik ist jedoch unstrukturiert, es gibt darin keine Funktionen.</p><p>Zum anderen haben Aggregationen eher keinen Wert fÃ¼r den Kunden. Sie machen die Entwicklung nicht spÃ¼rbar produktiver; sie erzeugen keine Bequemlichkeit fÃ¼r die Entwicklung.</p><p>Und schlieÃŸlich stellt Logik ganz natÃ¼rlich den Baustoff fÃ¼r Funktionen dar. In einer Menge von Logik-Anweisungen die zu finden, die in ihrer Verschiedenheit und KomplementaritÃ¤t zu einem Ganzen integriert werden kÃ¶nnen, ist einfach. Logik hat fÃ¼r einzelne Funktionen die passende GranularitÃ¤t als Baustein.</p><figure class="alignnone size-large wp-image-1463"><img loading="lazy" src="https://ralfw.de/media/posts/100/Bildschirmfoto-2018-04-05-um-11.08.52-1024x746.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.08.52-1024x746-xs.png 300w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.08.52-1024x746-sm.png 480w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.08.52-1024x746-md.png 768w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.08.52-1024x746-lg.png 1024w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.08.52-1024x746-xl.png 1360w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.08.52-1024x746-2xl.png 1600w" alt="" width="720" height="525"></figure><p>Als Ergebnis entstehen Funktionen, die ausschlieÃŸlich Logik enthalten; ich nenne sie <em>Operationen</em>.</p><p>Anwendungen werden dadurch zu einer integrierenden Abstraktion mit zwei Ebenen (<em>strata</em>). Auf der obersten Ebene ist weiterhin die Anwendung (hier reprÃ¤sentiert durch <code>Main()</code>). Die integriert jedoch nicht mehr feingranulare Logik, sondern Operationen mit einer grÃ¶beren GranularitÃ¤t. Und diese Funktionen wiederum integrieren Logik.</p><h2>Funktionen als Integrationen von Funktionen</h2><p>Sie sehen: aus Logik, die unzweifelhaft zur LÃ¶sung des Problems des Anwenders nÃ¶tig ist, ergeben sich ganz natÃ¼rlich Abstraktionen. Aber nicht, wie es die Objektorientierung denkt, Aggregationen, sondern Integrationen. Sie stellen vereinfachende Zusammenfassungen von TeilfunktionalitÃ¤t dar, die sich der Verwendung in unterschiedlichen ZusammenhÃ¤ngen anbieten - und zudem die Logik besser verstÃ¤ndlich macht, weil sie sie mit Bedeutung auflÃ¤dt. Funktionsnamen sind abstrakte Platzhalter fÃ¼r Details. Ãœber die Signatur einer Funktion lassen sich diese Details bequem bedienen. Das schafft ProduktivitÃ¤t.</p><p>FÃ¼r mich ist das ein Abstraktionsrezept, das der Fortsetzung lohnt. Warum bei Operationen als Integrationen stehenbleiben? <code>Main()</code> zeigt ja schon, dass sich nicht nur Logik integrieren lÃ¤sst. Funktionen sind wunderbare Integrationsbausteine.</p><p>Wenn auf unterster Ebene Logik-Anweisungen integriert werden zu Operationen, dann kÃ¶nnen auf darÃ¼ber liegenden Ebenen Funktionen ebenfalls integriert werden. Funktionen, die Funktionen integrieren, nenne ich <em>Integrationen</em>.</p><p>Angewandt auf den bisherigen Code kann das z.B. so aussehen. Die grÃ¼nen Funktionen sind Integrationen, die roten Operationen.</p><figure class="alignnone size-full wp-image-1464"><img loading="lazy" src="https://ralfw.de/media/posts/100/Bildschirmfoto-2018-04-05-um-11.09.03.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.09.03-xs.png 300w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.09.03-sm.png 480w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.09.03-md.png 768w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.09.03-lg.png 1024w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.09.03-xl.png 1360w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.09.03-2xl.png 1600w" alt="" width="928" height="916"></figure><p><code>Main()</code> als ReprÃ¤sentation der Anwendung ist jetzt eine sehr einfache Integration geworden. In drei Zeilen ist dort ausgedrÃ¼ckt, was vorher 13 Zeilen gebraucht hat. Aber auch <code>LoadData()</code> und <code>ExtractRelevantWordsFromLines()</code> stellen bequeme Integrationen dar. Und wenn sich irgendwo Funktionen zeigen, die zusammen wiederum eine nÃ¼tzliche (oder auch nur gut verstÃ¤ndliche) Integration ergeben, dann kÃ¶nnen sie sehr leicht zusammengefasst werden, z.B.</p><figure class="alignnone size-large wp-image-1465"><img loading="lazy" src="https://ralfw.de/media/posts/100/Bildschirmfoto-2018-04-05-um-11.09.14-1024x244.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.09.14-1024x244-xs.png 300w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.09.14-1024x244-sm.png 480w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.09.14-1024x244-md.png 768w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.09.14-1024x244-lg.png 1024w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.09.14-1024x244-xl.png 1360w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.09.14-1024x244-2xl.png 1600w" alt="" width="720" height="172"></figure><p>Wichtig ist es, bei der Integration darauf zu achten, dass die GranularitÃ¤t der Bausteine angemessen ist. Funktionen und Logik in einer Integration zu mischen, passt nicht. Nur wenn integrierende Funktionen keine Logik enthalten, bleibt die Testbarkeit von Code hoch. Logik ist dann ausschlieÃŸlich in Operationen versammelt, die nicht weiter funktional abhÃ¤ngig sind - und insofern leicht zu testen. Wenn Funktionen so strukturiert sind, dann folgen sie fÃ¼r mich dem <em>Integration Operation Segregation Principle (IOSP)</em>.</p><h2>Klassen als Aggregationen von Funktionen</h2><p>Integration ist fÃ¼r mich die initiale und sogar primÃ¤re Abstraktion in der Softwareentwicklung. Durch Integration entstehen Funktionseinheiten, die mehr und mehr Verhalten bÃ¼ndeln und bequem verfÃ¼gbar machen. Details der Herstellung von Verhalten werden verborgen. Integrationen bieten quasi â€Verhalten auf Knopfdruckâ€œ.</p><p>Doch so produktivitÃ¤tssteigernd Integration ist, frÃ¼her oder spÃ¤ter braucht es eine weitere Art der Abstraktion. Zur Beherrschung von wachsenden Mengen an Bausteinen ist Aggregation nÃ¶tig, sonst verlieren wir die Ãœbersicht.</p><p>Das ist schon der Fall im obigen Beispiel, wÃ¼rde ich sagen. Neun Funktionen â€in einer Reiheâ€œ sind nicht mehr gut zu Ã¼berblicken, allemal, wenn sie nicht alle gleichzeitig auf den Bildschirm passen.</p><p>Als physische Aggregation wÃ¼rde sich zur Herstellung von Ãœbersichtlichtkeit eine Verteilung der Funktionen auf Dateien anbieten. Dadurch wÃ¼rden Funktionen Kategorien zugewiesen, die durch Dateinamen bezeichnet sind.</p><p>Leider lassen das jedoch nicht alle Programmiersprachen zu. In Java und C# ist eine solche Verteilung z.B. nur mÃ¶glich, wenn Funktionen als Methoden in Klassen zusammengefasst sind. Deshalb lasse ich im Weiteren Dateien als Abstraktionsmittel auÃŸen vor und konzentriere mich auf Klassen (bzw. allgemeiner Module).</p><p>Aggregationen abstrahieren von Unterschieden, indem sie das existierende Gemeinsame hervorheben. Inwiefern haben also die Funktionen im Beispiel etwas gemeinsam, inwiefern unterscheiden sie sich andererseits?</p><p>Ich finde fÃ¼r neun Funktionen zunÃ¤chst fÃ¼nf Aggregate, d.h. Klassen:</p><figure class="alignnone size-large wp-image-1477"><img loading="lazy" src="https://ralfw.de/media/posts/100/Bildschirmfoto-2018-04-05-um-11.09.26-1024x452.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.09.26-1024x452-xs.png 300w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.09.26-1024x452-sm.png 480w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.09.26-1024x452-md.png 768w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.09.26-1024x452-lg.png 1024w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.09.26-1024x452-xl.png 1360w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.09.26-1024x452-2xl.png 1600w" alt="" width="720" height="318"></figure><p>Meine Kriterien fÃ¼r die Zusammenfassung in einer Klasse einerseits und die Verteilung auf verschiedene Klassen andererseits, will ich hier dahingestellt lassen. Ich habe mich leiten lassen von einem Architekturmuster, das ich [IODA Architektur] nenne.</p><p>Wichtiger als die genauen Kriterien ist mir an dieser Stelle, dass es Ã¼berhaupt welche gibt. Wer auf die Funktionen blickt, wird durch seine Brille bei manchen irgendwelche Gemeinsamenkeiten finden und bei anderen keine. Manche Funktionen sind durch eine kohÃ¤sive Kraft miteinander verbunden, andere nicht. Und das wird durch die Aggregation in einer Klasse formal hervorgehoben.</p><p>Wie die Klassen auf Dateien verteilt und diese in Verzeichnissen zusammengefasst sind, ist dann eine zweite Sache. Damit kann die Aggregation noch physisch unterstrichen werden.</p><figure class="alignnone size-full wp-image-1468"><img loading="lazy" src="https://ralfw.de/media/posts/100/Bildschirmfoto-2018-04-05-um-11.09.35.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.09.35-xs.png 300w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.09.35-sm.png 480w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.09.35-md.png 768w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.09.35-lg.png 1024w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.09.35-xl.png 1360w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.09.35-2xl.png 1600w" alt="" width="396" height="436"></figure><h2>Klassen als Aggregationen von Integrationen</h2><p>ZunÃ¤chst sind Klassen nur Aggregationen. Sie fassen verschiedene Funktionen auf der Basis von etwas Gemeinsamem in einer programmiersprachlich relevanten Weise zusammen. Sie geben dieser Zusammenfassung einen Namen, eine Bedeutung. Sie spannen einen Namensraum auf.</p><figure class="alignnone size-large wp-image-1469"><img loading="lazy" src="https://ralfw.de/media/posts/100/Bildschirmfoto-2018-04-05-um-11.09.46-1024x203.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.09.46-1024x203-xs.png 300w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.09.46-1024x203-sm.png 480w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.09.46-1024x203-md.png 768w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.09.46-1024x203-lg.png 1024w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.09.46-1024x203-xl.png 1360w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.09.46-1024x203-2xl.png 1600w" alt="" width="720" height="143"></figure><p>Was in Klassen aggregiert ist, steht ohne weiteren Zusatz gleichberechtigt nebeneinander. Es stellt allerdings eine Ã¼berschaubarere Menge dar als das, was vorher ohne Klassen auf einem Haufen lag.</p><p>Spannend wird es, wenn das Gemeinsame einer Anzahl von Funktionen ist, dass sie einer Integrationshierarchie angehÃ¶ren. In dem Fall helfen Klassen durch Sichtbarkeitsattribute, diesen Umstand zu verschleiern. Sie kÃ¶nnen also helfen, Integrationen â€auf den Punkt zu bringenâ€œ, indem sie lediglich die Wurzel eines Integrationsbaumes zugÃ¤nglich machen - und alle darunter hÃ¤ngenden Bausteine verbergen.</p><figure class="alignnone size-large wp-image-1470"><img loading="lazy" src="https://ralfw.de/media/posts/100/Bildschirmfoto-2018-04-05-um-11.09.57-1024x366.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.09.57-1024x366-xs.png 300w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.09.57-1024x366-sm.png 480w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.09.57-1024x366-md.png 768w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.09.57-1024x366-lg.png 1024w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.09.57-1024x366-xl.png 1360w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.09.57-1024x366-2xl.png 1600w" alt="" width="720" height="257"></figure><p>Im Fall der Klasse <code>Parser{}</code> ist nur die Integrationswurzel Ã¶ffentlich, alle anderen Funktionen sind unsichtbare Details der Leistungserbringung der Integration. Ob diese Wurzelfunktion eine Operation ist oder eine Integration? Das kann man ihr und der Klasse als Nutzer von auÃŸen nicht ansehen.</p><p>In dieser Hinsicht unterscheiden sich Klassen ganz wesentlich von syntaktischen NamensrÃ¤umen und physischen Aggregationen. Klassen helfen hier der Integration, allerdings sind sie deshalb nicht selbst Integrationen. Sie bleiben lediglich Aggregationen.</p><h2>Anwendungen als Aggregationen von Klassen</h2><p>Logik-Anweisungen sind Elemente, die in Funktionen integriert werden. Funktionen sind Elemente, die von anderen Funktionen integriert werden oder von Klassen aggregiert.</p><p>Klassen sind nun Elemente, die von Anwendungen aggregiert werden. ZunÃ¤chst sind Anwendungen - oder allgemeiner: Bibliotheken - nur Sammlungen von Klassen, die etwas gemeinsam haben. Sie alle leisten etwas, das der ErfÃ¼llung der Anforderungen des Kunden dient. FÃ¼nf Klassen sind im obigen Bild in den Topf der Anwendung geworfen und mit dem Etikett <code>textstats.exe</code> versehen worden.</p><p>Darin besteht die erste Kunst der gemeinen Objektorientierung. Ihr Ziel ist es, die Klassen zu finden, fÃ¼r die die zu realisierende Anwendung das Aggregat ist. Sie geht also von der Abstraktion aus und sucht zugehÃ¶rige Elemente.</p><p>Der Ansatz, den ich hier beschreibe, beginnt am anderen Ende. In ihm stehen Klassen nicht am Anfang. Weder sieht er die Anwendung als Aggregat noch sucht er nach Aggregaten. Stattdessen ist die Anwendung vor allem ein Ort der Integration. Aggregate mÃ¶gen spÃ¤ter kommen, wenn genug Material dafÃ¼r angehÃ¤uft ist. Klassen ergeben sich, wenn klar ist, wie das gewÃ¼nschte Verhalten mittels Logik, Operationen und Integrationen hergestellt werden kann.</p><h2>Klassen als Integrationen von Klassen</h2><p>Bibliotheken mÃ¶gen als reine Aggregate von Klassen durchgehen; Anwendungen jedoch integrieren immer. Deshalb liegt es nahe, dass es in Anwendungen auch Klassen gibt, die integrieren.</p><p>Integrierende Klassen sind Klassen, die andere, komplementÃ¤re zusammenziehen zu etwas Neuem, zu etwas GrÃ¶ÃŸerem, zu etwas Bequemerem. Das zeigt das folgende Listing exemplarisch anhand der neuen Klasse <code>App{}</code>:</p><figure class="alignnone size-large wp-image-1471"><img loading="lazy" src="https://ralfw.de/media/posts/100/Bildschirmfoto-2018-04-05-um-11.10.10-1024x649.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.10.10-1024x649-xs.png 300w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.10.10-1024x649-sm.png 480w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.10.10-1024x649-md.png 768w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.10.10-1024x649-lg.png 1024w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.10.10-1024x649-xl.png 1360w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.10.10-1024x649-2xl.png 1600w" alt="" width="720" height="456"></figure><p>Die Aufgabe von <code>App{}</code> ist es, die Leistungen anderer Klassen zu bÃ¼ndeln. Sie enthÃ¤lt deshalb in diesem Beispiel selbst auch keine Logik. Das ist zwar nicht Voraussetzung fÃ¼r eine integrierende Klasse, unterstreicht ihre Aufgabe jedoch.</p><p>Die Verantwortlichkeit von <code>Program{}</code> reduziert sich damit darauf, den Eintrittspunkt fÃ¼r die Anwendung zu definieren und alles herzurichten, damit das in <code>App{}</code> integrierte Gesamtverhalten ablÃ¤uft.</p><p>Die integrierende Klasse steht hier an der Spitze und zieht die ansonsten nur aggregierten weiteren Klassen der Anwendung zusammen. Integrationen mit Klassen kÃ¶nnen aber natÃ¼rlich auch an anderer Stelle stattfinden. Ist das sauber gemacht, bergen sie viel Potenzial fÃ¼r eine ProduktivitÃ¤tssteigerung.</p><h2>Interfaces als Destillate von Klassen</h2><p>Aggregate treten fÃ¼r mich erst nach Integrationen auf die BÃ¼hne der Softwareentwicklung. Und Destillate kommen sogar noch spÃ¤ter. Der Grund: FÃ¼r Destillate braucht es noch mehr Material, damit sich darin Ã¼berhaupt eine destillierbare Essenz anreichern kann.</p><p>Das ist in einer Anwendung der Fall, wenn sich einige Klassen stabilisiert haben und darin destillierbare Muster zu finden sind. Oder das ist der Fall, wenn Ã¼ber Anwendungen hinweg Muster erkennbar sind.</p><p>Innerhalb von Anwendungen kÃ¶nnen Destillate dann GrundfunktionalitÃ¤t (oder Grundstruktur) bereitstellen in Form von Basisklassen, die von Ableitungen moduliert werden. Oder Destillate beschreiben abstrakt FunktionalitÃ¤t, die am Nutzungsort in verschiedener Weise konkretisiert werden kann.</p><p>Ein Freund von Destillaten in Form von Basisklassen bin ich nicht. Vererbung verwende ich nur in sehr wenigen und sehr klaren FÃ¤llen der NÃ¼tzlichkeit und dann vor allem im Zusammenhang mit Datenstrukturen. Stattdessen favorisiere ich die Komposition (<em>Favor Composition over Inheritance, FCoI</em>), also die Integration, um auf vorhandener FunktionalitÃ¤t aufzubauen.</p><p>Interfaces als Form-Destillate finde ich jedoch nÃ¼tzlich, insbesondere, um die Testbarkeit von Code zu erhÃ¶hen. Davon kann im Beispiel die Klasse <code>App{}</code> profitieren. Sie ist die Integrationswurzel fÃ¼r das gesamte Verhalten der Anwendung. Ein automatisierter Akzeptanztest wÃ¤re hier also angezeigt. Doch die AbhÃ¤ngigkeit insbesondere von der Ressource Standard-Output macht das schwierig. Es wÃ¤re schÃ¶n, Ressourcen fÃ¼r einen Test â€abklemmenâ€œ zu kÃ¶nnen.</p><p>Mit <em>Dependency Inversion (DI)</em> und <em>Inversion of Control (IoC)</em> ist das ohne technologische KlimmzÃ¼ge mÃ¶glich. Statt <code>App{}</code> direkt von Ressourcen kapselnden Aggregaten abhÃ¤ngig zu machen, schiebe ich ihr Form-Destillate unter und injiziere Konkretisierungen zur Laufzeit.</p><p>Das ist fÃ¼r mich ein Muster Ã¼ber Anwendungen hinweg:</p><ul><li>Ressourcenzugriffe machen das automatisierte Testen immer wieder schwierig. Also werden sie in Klassen aggregiert und dann destilliert (DI).</li></ul><figure class="alignnone size-large wp-image-1472"><img loading="lazy" src="https://ralfw.de/media/posts/100/Bildschirmfoto-2018-04-05-um-11.10.25-1024x293.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.10.25-1024x293-xs.png 300w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.10.25-1024x293-sm.png 480w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.10.25-1024x293-md.png 768w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.10.25-1024x293-lg.png 1024w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.10.25-1024x293-xl.png 1360w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.10.25-1024x293-2xl.png 1600w" alt="" width="720" height="206"></figure><ul><li>Destillate werden zur Laufzeit durch Produktionsobjekte bzw. Testattrappen konkretisiert.</li></ul><figure class="alignnone size-large wp-image-1473"><img loading="lazy" src="https://ralfw.de/media/posts/100/Bildschirmfoto-2018-04-05-um-11.10.34-1024x349.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.10.34-1024x349-xs.png 300w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.10.34-1024x349-sm.png 480w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.10.34-1024x349-md.png 768w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.10.34-1024x349-lg.png 1024w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.10.34-1024x349-xl.png 1360w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.10.34-1024x349-2xl.png 1600w" alt="" width="720" height="245"></figure><p>Der Preis, den der Mehraufwand fÃ¼r DI und IoC und die steigende KomplexitÃ¤t darstellt, halte ich fÃ¼r klein im Vergleich zum Gewinn. In MaÃŸen eingesetzt ist eine solche SuboptimalitÃ¤t nÃ¼tzlich, um das Ganze deutlich zu verbessern im Hinblick auf nachweisbare Korrektheit.</p><p>Aber Vorsicht! Lassen Sie sich nicht davontragen von der Verlockung solcher Art FlexibilitÃ¤t. WÃ¼rde dadurch nicht Software ganz allgemein viel wandelbarer? Das halte ich fÃ¼r einen Trugschluss, der leider in Robert C. Martins <em>Clean Architecture</em> einen populÃ¤ren Ausdruck gewonnen hat. Die Ãœbersichtlichkeit der Beziehungen zwischen Abstraktionen steigt durch DI und IoC nicht. Selbst Martin muss bei Anblick eines â€Komponentendiagrammsâ€œ fÃ¼r ein Beispiel in seinem Buch konstatieren:</p><blockquote><p>â€Much of the complexity [â€¦] was intended to make sure that the dependencies between the components pointed in the correct direction.â€œ</p></blockquote><p>KomplexitÃ¤t ist der Feind von Korrektheit und Wandelbarkeit. Auch mit allerbester Absicht sollten komplexitÃ¤tserhÃ¶hende MaÃŸnahmen wie DI und IoC daher nur sehr sparsam eingesetzt werden.</p><p>Das ist auch der Grund, warum Sie im hier vorgestellten Code Ã¼ber eine lange Strecke nur statische Methoden gesehen haben. Ich halte sie schlicht fÃ¼r besser testbar und leichter verstÃ¤ndlich. Statische Methoden legen einfach nahe, keine AbhÃ¤ngigkeiten von Zustand oder Ressourcen einzugehen. Sie sind fÃ¼r mich deshalb der default â€“ und erst wenn ich deutliche Hinweise habe, dass Daten aggregiert werden sollten oder ein Form-Destillat hilfreich wÃ¤re, rÃ¼cke ich davon ab.</p><h2>Klassen als Aggregationen von Daten</h2><p>Bisher war nur von der Abstraktion rund um Logik die Rede. Klassen integrieren Klassen, die Funktionen aggregieren, die Funktionen integrieren, die Logik integrieren. Und was ist mit den Daten?</p><p>Mein Blick war bisher vor allem auf Logik und Funktionen gerichtet, weil ich glaube, dass wir Software von ihrem Verhalten her denken sollten. â€Was soll Software <em>tun</em>?â€œ ist die zentrale Frage. Welche FunktionalitÃ¤t und welche Effizienz soll sie haben? DafÃ¼r mÃ¼ssen wir Logik finden und zu Funktionen abstrahieren und die dann weiter zu Klassen abstrahieren.</p><p>Daten sind zwar die andere Seite der Softwaremedaille und insofern auf AugenhÃ¶he mit Verhalten, doch sie stehen fÃ¼r mich nicht am Anfang von Analyse und Entwurf, jedenfalls nicht jenseits des Offensichtlichen. Ich glaube nicht, dass wir uns einen Gefallen tun, wenn wir auf Anforderungen wie TrÃ¼ffelschweine losgehen und DatenzusammenhÃ¤nge ausschnÃ¼ffeln. Daten folgen Verhalten selbstverstÃ¤ndlich und in bekÃ¶mmlichem MaÃŸe, eben so, wie sie gebraucht werden.</p><p>Am Ende gilt es dann aber natÃ¼rlich auch, fÃ¼r Daten Abstraktionen zu finden. Welche Daten haben etwas gemeinsam und sollten in einer Klasse aggregiert werden?</p><p>Das Beispiel gibt in dieser Hinsicht leider nicht so viel her. Dennoch habe ich versucht, ein bisschen Datenabstraktion zu betreiben. Herausgekommen sind diese beiden Klassen, die ich dann auch physisch im Projekt separiert habe:</p><figure class="alignnone size-large wp-image-1474"><img loading="lazy" src="https://ralfw.de/media/posts/100/Bildschirmfoto-2018-04-05-um-11.10.51-1024x455.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.10.51-1024x455-xs.png 300w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.10.51-1024x455-sm.png 480w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.10.51-1024x455-md.png 768w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.10.51-1024x455-lg.png 1024w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.10.51-1024x455-xl.png 1360w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.10.51-1024x455-2xl.png 1600w" alt="" width="720" height="320"></figure><p>Das hat vor allem zu einem Umbau am <code>Parser{}</code> gefÃ¼hrt:</p><figure class="alignnone size-large wp-image-1475"><img loading="lazy" src="https://ralfw.de/media/posts/100/Bildschirmfoto-2018-04-05-um-11.11.01-1024x257.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.11.01-1024x257-xs.png 300w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.11.01-1024x257-sm.png 480w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.11.01-1024x257-md.png 768w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.11.01-1024x257-lg.png 1024w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.11.01-1024x257-xl.png 1360w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.11.01-1024x257-2xl.png 1600w" alt="" width="720" height="181"></figure><p>Dessen Verantwortlichkeit ist geschrumpft - oder besser: fokussiert. Seine Aufgabe besteht nun einzig darin, einen Text in Zeilen und Worte zu zerlegen. Die entstehenden Daten liefert er nicht mehr in generischer, offener Form als <code>IEnumerable&lt;string[]&gt;</code>, sondern in einer speziellen Datenstruktur <code>Text{}</code>, die aus <code>Line{}</code>-Objekten besteht, die wiederum Worte enthalten.</p><h2>Klassen als Integrationen von Daten</h2><p>Durch die Aggregation sind Daten klar mit Bedeutung aufgeladen und kÃ¶nnen nun auch passende FunktionalitÃ¤t beigeordnet bekommen. Was vorher der Parser geleistet hat, ist zum Teil in die Datenobjekte gewandert. Die operieren damit auf sich selbst und machen es Nutzern bequemer. Davon profitiert die DomÃ¤nenlogik in <code>Stats{}</code>:</p><figure class="alignnone size-large wp-image-1476"><img loading="lazy" src="https://ralfw.de/media/posts/100/Bildschirmfoto-2018-04-05-um-11.11.11-1024x247.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.11.11-1024x247-xs.png 300w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.11.11-1024x247-sm.png 480w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.11.11-1024x247-md.png 768w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.11.11-1024x247-lg.png 1024w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.11.11-1024x247-xl.png 1360w, https://ralfw.de/media/posts/100/responsive/Bildschirmfoto-2018-04-05-um-11.11.11-1024x247-2xl.png 1600w" alt="" width="720" height="174"></figure><p>Die wÃ¼nscht sich nun einfach etwas von einem <code>Text{}</code>, statt die Daten selbst zu analysieren. Eine Anwendung des <em>Tell, donâ€™t ask (TDA)</em> Prinzips. Bei umfangreicheren Datenstrukturen ist damit natÃ¼rlich mehr zu gewinnen: KonsistenzprÃ¼fungen und Navigation in Daten sind FunktionalitÃ¤ten, die sich sehr gut eignen, um mit Daten in einer Klasse verbunden zu werden. Das ist Abstraktion durch Integration, weil eine Einheit entsteht, bei der nicht jeder Nutzer immer wieder alle Feinheiten der richtigen Bedienung beachten muss.</p><p>Das ist eine so typische Situation in der Objektorientierung, dass Sie ausrufen mÃ¶gen, Integration stehe doch im Vordergrund der gemeinen Objektorientierung. Ich hatte ja etwas anderes behauptet in meinem vorhergehenden Artikel.</p><p>Doch ich bleibe dabei: Dass Funktionen mit Daten in Klassen gebÃ¼ndelt werden kÃ¶nnen, ist noch kein Zeichen fÃ¼r integrierendes Denken. Es kommt darauf an, warum und wie man es macht. Schon wenn die Unterscheidung zwischen Klassen, die Daten <em>sind</em>, und Klassen, die Daten <em>haben</em>, nicht getroffen wird, fehlt es an Differenzierung.</p><p><code>Text{}</code> und <code>Line{}</code> sind ganz bewusst als Klassen ausgelegt, die Daten <em>sind</em>, d.h. ihr Zweck ist es, Daten zu aggregieren und ggf. sogar zu integrieren. Die Daten sind nicht dort, weil sie eine Gemeinsamkeit von Funktionen darstellen; sie sind kein zu verbergender Zustand. Deshalb kÃ¶nnen sie auch offenliegen. Eine Datenstruktur verbirgt ihre Struktur nicht. Sie zu kapseln wÃ¤re wider ihren Zweck.</p><p>Deshalb darf der Zweck einer Datenstruktur auch nicht Ã¼berladen werden mit FunktionalitÃ¤t. Er muss fokussiert bleiben auf das Strukturieren von Daten. Funktionen sind hier sekundÃ¤r und helfen lediglich der Strukturierung.</p><p>Anders bei Klassen, die Daten <em>haben</em>. Bei ihnen stehen die Funktionen im Vordergrund. Daten bilden zwischen ihnen ein Bindeglied; sie sind quasi notwendiges Ãœbel, weil sie die Testbarkeit der Methoden herabsetzen.</p><p>In Bezug auf diese Daten sind Klassen lediglich Aggregationen. Ihre eigentliche Funktion: die Aggregation von Funktionen, die Integrationen sind. Solche Klassen sollten keine Daten verÃ¶ffentlichen. Die sind lediglich gemeinsame Details der aggregierten Funktionen.</p><p>Sie sehen, Klassen als Integrationen sind kein SelbstgÃ¤nger. Deshalb glaube ich, dass mehr Differenzierung bei den Abstraktionsarten nÃ¶tig ist.</p><h2>Anwendungen als Aggregationen von Funktionen</h2><p>Zum Schluss noch einmal zurÃ¼ck zu ganzen Anwendungen. Die sind doch nicht nur Integrationen von Logik und Funktionen, sondern auch Aggregationen.</p><p>Anwendungen bieten ihrer Umwelt eine Reihe von zusammengehÃ¶rigen Funktionen an, die auf die eine oder andere Weise getriggert werden kÃ¶nnen. Dann verhÃ¤lt sich die Software, indem sie Input in Output transformiert.</p><p>Im Beispiel ist das leider nicht gut erkennbar. Dort gibt es nur eine triggerbare Funktion: <code>App.Run()</code>. Vom Windows Taschenrechner Ã¼ber ihren Email-Client bis zu einem CRM oder einem online Game sollte es jedoch klar sein: Software macht Ã¼ber ihre OberflÃ¤che mit den unterschiedlichsten Mitteln â€“ Tastatureingabe, Mausbewegung, MenÃ¼, Buttons, Spracheingabe usw. â€“ eine Vielzahl von Funktionen zugÃ¤nglich.</p><p>In CRUD-Anwendung ist das ganz deutlich: Sie kÃ¶nnen die Listung von Daten triggern, Sie kÃ¶nnen ihre Aktualisierung, LÃ¶schung, Beschaffung, Neuanlage triggern. FÃ¼r jede dieser FunktionalitÃ¤ten gibt es genau eine Funktion als Wurzel, die irgendwie durch den Benutzer gestartet werden kann. Die erhÃ¤lt Daten als Input und erzeugt Daten als Output.</p><p>Anwendung sind mithin kaum etwas anderes als Aggregate von Batch-Programmen - die allerdings Ã¼ber gemeinsamen Zustand im Hauptspeicher (oder in einer Datenbank) verbunden sind. Das macht ja gerade den Zweck der Anwendung als Aggregat aus im Vergleich zu lose nebeneinander liegenden Batch-Programmen.</p><p>Durch die Zusammenfassung der Funktionen in einer Anwendung wird Aufwand gespart und Bequemlichkeit fÃ¼r den Benutzer erzeugt. Aus der Aggregation wird Integration. Der Abstraktionskreis schlieÃŸt sich.</p></div><footer class="wrapper post__footer"><p class="post__last-updated">This article was updated on 29.01.2021</p><ul class="post__tag"><li><a href="https://ralfw.de/tags/clean-code/">Clean Code</a></li></ul><div class="post__share"></div></footer></article><nav class="post__nav"><div class="post__nav-inner"><div class="post__nav-prev"><svg width="1.041em" height="0.416em" aria-hidden="true"><use xlink:href="https://ralfw.de/assets/svg/svg-map.svg#arrow-prev"/></svg> <a href="https://ralfw.de/bequeme-abstraktion-ganz-konkret/" class="invert post__nav-link" rel="prev"><span>Previous</span> Bequeme Abstraktion ganz konkret</a></div><div class="post__nav-next"><a href="https://ralfw.de/messaging-the-missing-ingredient/" class="invert post__nav-link" rel="next"><span>Next</span> Messaging - The Missing Ingredient </a><svg width="1.041em" height="0.416em" aria-hidden="true"><use xlink:href="https://ralfw.de/assets/svg/svg-map.svg#arrow-next"/></svg></div></div></nav></main><footer class="footer"><div class="footer__copyright"><p>One Man Think Tank EOOD - Sofia, Bulgaria - <a href="../../../../../../imprint">Imprint</a> - <a href="../../../../../../data-privacy-policy">Data Privacy Policy</a></p></div><button class="footer__bttop js-footer__bttop" aria-label="Back to top"><svg><title>Back to top</title><use xlink:href="https://ralfw.de/assets/svg/svg-map.svg#toparrow"/></svg></button></footer></div><script>window.publiiThemeMenuConfig = {    
        mobileMenuMode: 'sidebar',
        animationSpeed: 300,
        submenuWidth: 'auto',
        doubleClickTime: 500,
        mobileMenuExpandableSubmenus: true, 
        relatedContainerForOverlayMenuSelector: '.top',
   };</script><script defer="defer" src="https://ralfw.de/assets/js/scripts.min.js?v=f4c4d35432d0e17d212f2fae4e0f8247"></script><script>var images = document.querySelectorAll('img[loading]');

        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script></body></html>